import{b as v,k as Pe,v as Ve,i as ie,j as J,z as pe,g as N,A as Q,B as ha,ab as Ue,d as A,a as He,c as ee,o as L,w as z,E as V,e as $,O,n as x,u as e,x as We,m as se,P as qe,Y as Re,ac as Ze,r as T,F as oe,G as Fe,H as ge,I as Ae,f as Ne,p as ka,a3 as ya,K as wa,ad as Ye,ae as Ca,X as xa,l as Je,J as S,T as _a,U as La,R as Ea,af as Ee,ag as Ie}from"./index-C1J_mbNU.js";import{H as Ia,q as Qe,U as he,r as Sa,v as De,C as $e,z as ea,d as je,w as aa,b as Se,u as la,N as za,O as Va}from"./ImageInfo-CQoquW0f.js";import{a3 as Na,aF as ta,J as re,N as Oe,ai as na,i as Be,z as sa,y as Te,_ as ue,u as ce,b as Me,s as U,aG as $a,a as oa,w as Ge,x as ra,aH as Oa,aI as Ba,S as Ta,aJ as Pa,av as te,W as Ra,g as X,az as Fa,aq as Aa,f as Da,aK as Ma,aL as Ga,aM as Ka,aN as Xa,X as Ua,E as Z,Q as ne,au as Ya,aO as ja,aP as Ha,aQ as Wa}from"./el-popper-Cc3e5aKF.js";var qa="Expected a function";function ze(a,r,n){var l=!0,s=!0;if(typeof a!="function")throw new TypeError(qa);return Na(n)&&(l="leading"in n?!!n.leading:l,s="trailing"in n?!!n.trailing:s),Ia(a,r,{leading:l,maxWait:r,trailing:s})}const Za=["class","style"],Ja=/^on[A-Z]/,Qa=(a={})=>{const{excludeListeners:r=!1,excludeKeys:n}=a,l=v(()=>(n?.value||[]).concat(Za)),s=Pe();return s?v(()=>{var c;return ta(Object.entries((c=s.proxy)==null?void 0:c.$attrs).filter(([g])=>!l.value.includes(g)&&!(r&&Ja.test(g))))}):v(()=>({}))},ia={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:Qe,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...na(["ariaControls"])},ua={[he]:a=>Ve(a)||re(a)||Oe(a),change:a=>Ve(a)||re(a)||Oe(a)},ae=Symbol("checkboxGroupContextKey"),el=({model:a,isChecked:r})=>{const n=ie(ae,void 0),l=v(()=>{var c,g;const m=(c=n?.max)==null?void 0:c.value,w=(g=n?.min)==null?void 0:g.value;return!Be(m)&&a.value.length>=m&&!r.value||!Be(w)&&a.value.length<=w&&r.value});return{isDisabled:Sa(v(()=>n?.disabled.value||l.value)),isLimitDisabled:l}},al=(a,{model:r,isLimitExceeded:n,hasOwnLabel:l,isDisabled:s,isLabeledByFormItem:c})=>{const g=ie(ae,void 0),{formItem:m}=De(),{emit:w}=Pe();function u(h){var i,C,p,k;return[!0,a.trueValue,a.trueLabel].includes(h)?(C=(i=a.trueValue)!=null?i:a.trueLabel)!=null?C:!0:(k=(p=a.falseValue)!=null?p:a.falseLabel)!=null?k:!1}function f(h,i){w($e,u(h),i)}function d(h){if(n.value)return;const i=h.target;w($e,u(i.checked),h)}async function y(h){n.value||!l.value&&!s.value&&c.value&&(h.composedPath().some(p=>p.tagName==="LABEL")||(r.value=u([!1,a.falseValue,a.falseLabel].includes(r.value)),await pe(),f(r.value,h)))}const E=v(()=>g?.validateEvent||a.validateEvent);return J(()=>a.modelValue,()=>{E.value&&m?.validate("change").catch(h=>sa())}),{handleChange:d,onClickRoot:y}},ll=a=>{const r=N(!1),{emit:n}=Pe(),l=ie(ae,void 0),s=v(()=>Be(l)===!1),c=N(!1),g=v({get(){var m,w;return s.value?(m=l?.modelValue)==null?void 0:m.value:(w=a.modelValue)!=null?w:r.value},set(m){var w,u;s.value&&Q(m)?(c.value=((w=l?.max)==null?void 0:w.value)!==void 0&&m.length>l?.max.value&&m.length>g.value.length,c.value===!1&&((u=l?.changeEvent)==null||u.call(l,m))):(n(he,m),r.value=m)}});return{model:g,isGroup:s,isLimitExceeded:c}},tl=(a,r,{model:n})=>{const l=ie(ae,void 0),s=N(!1),c=v(()=>Te(a.value)?a.label:a.value),g=v(()=>{const f=n.value;return Oe(f)?f:Q(f)?ha(c.value)?f.map(Ue).some(d=>ea(d,c.value)):f.map(Ue).includes(c.value):f!=null?f===a.trueValue||f===a.trueLabel:!!f}),m=je(v(()=>{var f;return(f=l?.size)==null?void 0:f.value}),{prop:!0}),w=je(v(()=>{var f;return(f=l?.size)==null?void 0:f.value})),u=v(()=>!!r.default||!Te(c.value));return{checkboxButtonSize:m,isChecked:g,isFocused:s,checkboxSize:w,hasOwnLabel:u,actualValue:c}},ca=(a,r)=>{const{formItem:n}=De(),{model:l,isGroup:s,isLimitExceeded:c}=ll(a),{isFocused:g,isChecked:m,checkboxButtonSize:w,checkboxSize:u,hasOwnLabel:f,actualValue:d}=tl(a,r,{model:l}),{isDisabled:y}=el({model:l,isChecked:m}),{inputId:E,isLabeledByFormItem:h}=aa(a,{formItemContext:n,disableIdGeneration:f,disableIdManagement:s}),{handleChange:i,onClickRoot:C}=al(a,{model:l,isLimitExceeded:c,hasOwnLabel:f,isDisabled:y,isLabeledByFormItem:h});return(()=>{function k(){var b,B;Q(l.value)&&!l.value.includes(d.value)?l.value.push(d.value):l.value=(B=(b=a.trueValue)!=null?b:a.trueLabel)!=null?B:!0}a.checked&&k()})(),Se({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},v(()=>s.value&&Te(a.value))),Se({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},v(()=>!!a.trueLabel)),Se({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},v(()=>!!a.falseLabel)),{inputId:E,isLabeledByFormItem:h,isChecked:m,isDisabled:y,isFocused:g,checkboxButtonSize:w,checkboxSize:u,hasOwnLabel:f,model:l,actualValue:d,handleChange:i,onClickRoot:C}},nl=A({name:"ElCheckbox"}),sl=A({...nl,props:ia,emits:ua,setup(a){const r=a,n=He(),{inputId:l,isLabeledByFormItem:s,isChecked:c,isDisabled:g,isFocused:m,checkboxSize:w,hasOwnLabel:u,model:f,actualValue:d,handleChange:y,onClickRoot:E}=ca(r,n),h=v(()=>{var k,b,B,Y;return r.trueValue||r.falseValue||r.trueLabel||r.falseLabel?{"true-value":(b=(k=r.trueValue)!=null?k:r.trueLabel)!=null?b:!0,"false-value":(Y=(B=r.falseValue)!=null?B:r.falseLabel)!=null?Y:!1}:{value:d.value}}),i=ce("checkbox"),C=v(()=>[i.b(),i.m(w.value),i.is("disabled",g.value),i.is("bordered",r.border),i.is("checked",c.value)]),p=v(()=>[i.e("input"),i.is("disabled",g.value),i.is("checked",c.value),i.is("indeterminate",r.indeterminate),i.is("focus",m.value)]);return(k,b)=>(L(),ee(Ae(!e(u)&&e(s)?"span":"label"),{class:x(e(C)),"aria-controls":k.indeterminate?k.ariaControls:null,onClick:e(E)},{default:z(()=>[V("span",{class:x(e(p))},[We(V("input",se({id:e(l),"onUpdate:modelValue":B=>qe(f)?f.value=B:null,class:e(i).e("original"),type:"checkbox",indeterminate:k.indeterminate,name:k.name,tabindex:k.tabindex,disabled:e(g)},e(h),{onChange:e(y),onFocus:B=>m.value=!0,onBlur:B=>m.value=!1,onClick:Re(()=>{},["stop"])}),null,16,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","onChange","onFocus","onBlur","onClick"]),[[Ze,e(f)]]),V("span",{class:x(e(i).e("inner"))},null,2)],2),e(u)?(L(),$("span",{key:0,class:x(e(i).e("label"))},[T(k.$slots,"default"),k.$slots.default?O("v-if",!0):(L(),$(oe,{key:0},[Fe(ge(k.label),1)],64))],2)):O("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var da=ue(sl,[["__file","checkbox.vue"]]);const ol=A({name:"ElCheckboxButton"}),rl=A({...ol,props:ia,emits:ua,setup(a){const r=a,n=He(),{isFocused:l,isChecked:s,isDisabled:c,checkboxButtonSize:g,model:m,actualValue:w,handleChange:u}=ca(r,n),f=v(()=>{var i,C,p,k;return r.trueValue||r.falseValue||r.trueLabel||r.falseLabel?{"true-value":(C=(i=r.trueValue)!=null?i:r.trueLabel)!=null?C:!0,"false-value":(k=(p=r.falseValue)!=null?p:r.falseLabel)!=null?k:!1}:{value:w.value}}),d=ie(ae,void 0),y=ce("checkbox"),E=v(()=>{var i,C,p,k;const b=(C=(i=d?.fill)==null?void 0:i.value)!=null?C:"";return{backgroundColor:b,borderColor:b,color:(k=(p=d?.textColor)==null?void 0:p.value)!=null?k:"",boxShadow:b?`-1px 0 0 0 ${b}`:void 0}}),h=v(()=>[y.b("button"),y.bm("button",g.value),y.is("disabled",c.value),y.is("checked",s.value),y.is("focus",l.value)]);return(i,C)=>(L(),$("label",{class:x(e(h))},[We(V("input",se({"onUpdate:modelValue":p=>qe(m)?m.value=p:null,class:e(y).be("button","original"),type:"checkbox",name:i.name,tabindex:i.tabindex,disabled:e(c)},e(f),{onChange:e(u),onFocus:p=>l.value=!0,onBlur:p=>l.value=!1,onClick:Re(()=>{},["stop"])}),null,16,["onUpdate:modelValue","name","tabindex","disabled","onChange","onFocus","onBlur","onClick"]),[[Ze,e(m)]]),i.$slots.default||i.label?(L(),$("span",{key:0,class:x(e(y).be("button","inner")),style:Ne(e(s)?e(E):void 0)},[T(i.$slots,"default",{},()=>[Fe(ge(i.label),1)])],6)):O("v-if",!0)],2))}});var va=ue(rl,[["__file","checkbox-button.vue"]]);const il=Me({modelValue:{type:U(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Qe,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},options:{type:U(Array)},props:{type:U(Object),default:()=>fa},...na(["ariaLabel"])}),ul={[he]:a=>Q(a),change:a=>Q(a)},fa={label:"label",value:"value",disabled:"disabled"},cl=A({name:"ElCheckboxGroup"}),dl=A({...cl,props:il,emits:ul,setup(a,{emit:r}){const n=a,l=ce("checkbox"),{formItem:s}=De(),{inputId:c,isLabeledByFormItem:g}=aa(n,{formItemContext:s}),m=async d=>{r(he,d),await pe(),r($e,d)},w=v({get(){return n.modelValue},set(d){m(d)}}),u=v(()=>({...fa,...n.props})),f=d=>{const y={label:d[u.value.label],value:d[u.value.value],disabled:d[u.value.disabled]};return{...d,...y}};return ka(ae,{...$a(ya(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:w,changeEvent:m}),J(()=>n.modelValue,(d,y)=>{n.validateEvent&&!ea(d,y)&&s?.validate("change").catch(E=>sa())}),(d,y)=>{var E;return L(),ee(Ae(d.tag),{id:e(c),class:x(e(l).b("group")),role:"group","aria-label":e(g)?void 0:d.ariaLabel||"checkbox-group","aria-labelledby":e(g)?(E=e(s))==null?void 0:E.labelId:void 0},{default:z(()=>[T(d.$slots,"default",{},()=>[(L(!0),$(oe,null,wa(n.options,(h,i)=>(L(),ee(da,se({key:i},f(h)),null,16))),128))])]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var ma=ue(dl,[["__file","checkbox-group.vue"]]);const El=Ge(da,{CheckboxButton:va,CheckboxGroup:ma});oa(va);const Il=oa(ma),vl=Me({urlList:{type:U(Array),default:()=>ra([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:U(String)}}),fl={close:()=>!0,error:a=>a instanceof Event,switch:a=>re(a),rotate:a=>re(a)},ml=A({name:"ElImageViewer"}),bl=A({...ml,props:vl,emits:fl,setup(a,{expose:r,emit:n}){var l;const s=a,c={CONTAIN:{name:"contain",icon:Ye(Ba)},ORIGINAL:{name:"original",icon:Ye(Oa)}};let g,m="";const{t:w}=la(),u=ce("image-viewer"),{nextZIndex:f}=Ta(),d=N(),y=N(),E=Ca(),h=v(()=>{const{scale:t,minScale:I,maxScale:_}=s;return Pa(t,I,_)}),i=N(!0),C=N(!1),p=N(s.initialIndex),k=xa(c.CONTAIN),b=N({scale:h.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),B=N((l=s.zIndex)!=null?l:f()),Y=v(()=>{const{urlList:t}=s;return t.length<=1}),W=v(()=>p.value===0),de=v(()=>p.value===s.urlList.length-1),q=v(()=>s.urlList[p.value]),ke=v(()=>[u.e("btn"),u.e("prev"),u.is("disabled",!s.infinite&&W.value)]),ve=v(()=>[u.e("btn"),u.e("next"),u.is("disabled",!s.infinite&&de.value)]),fe=v(()=>{const{scale:t,deg:I,offsetX:_,offsetY:M,enableTransition:G}=b.value;let F=_/t,K=M/t;const le=I*Math.PI/180,Ke=Math.cos(le),Xe=Math.sin(le);F=F*Ke+K*Xe,K=K*Ke-_/t*Xe;const Le={transform:`scale(${t}) rotate(${I}deg) translate(${F}px, ${K}px)`,transition:G?"transform .3s":""};return k.value.name===c.CONTAIN.name&&(Le.maxWidth=Le.maxHeight="100%"),Le}),me=v(()=>`${p.value+1} / ${s.urlList.length}`);function j(){we(),g?.(),document.body.style.overflow=m,n("close")}function ye(){const t=ze(_=>{switch(_.code){case Z.esc:s.closeOnPressEscape&&j();break;case Z.space:Ce();break;case Z.left:xe();break;case Z.up:D("zoomIn");break;case Z.right:_e();break;case Z.down:D("zoomOut");break}}),I=ze(_=>{const M=_.deltaY||_.deltaX;D(M<0?"zoomIn":"zoomOut",{zoomRate:s.zoomRate,enableTransition:!1})});E.run(()=>{te(document,"keydown",t),te(document,"wheel",I)})}function we(){E.stop()}function o(){i.value=!1}function R(t){C.value=!0,i.value=!1,n("error",t),t.target.alt=w("el.image.error")}function P(t){if(i.value||t.button!==0||!d.value)return;b.value.enableTransition=!1;const{offsetX:I,offsetY:_}=b.value,M=t.pageX,G=t.pageY,F=ze(le=>{b.value={...b.value,offsetX:I+le.pageX-M,offsetY:_+le.pageY-G}}),K=te(document,"mousemove",F);te(document,"mouseup",()=>{K()}),t.preventDefault()}function H(){b.value={scale:h.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function Ce(){if(i.value||C.value)return;const t=za(c),I=Object.values(c),_=k.value.name,G=(I.findIndex(F=>F.name===_)+1)%t.length;k.value=c[t[G]],H()}function be(t){C.value=!1;const I=s.urlList.length;p.value=(t+I)%I}function xe(){W.value&&!s.infinite||be(p.value-1)}function _e(){de.value&&!s.infinite||be(p.value+1)}function D(t,I={}){if(i.value||C.value)return;const{minScale:_,maxScale:M}=s,{zoomRate:G,rotateDeg:F,enableTransition:K}={zoomRate:s.zoomRate,rotateDeg:90,enableTransition:!0,...I};switch(t){case"zoomOut":b.value.scale>_&&(b.value.scale=Number.parseFloat((b.value.scale/G).toFixed(3)));break;case"zoomIn":b.value.scale<M&&(b.value.scale=Number.parseFloat((b.value.scale*G).toFixed(3)));break;case"clockwise":b.value.deg+=F,n("rotate",b.value.deg);break;case"anticlockwise":b.value.deg-=F,n("rotate",b.value.deg);break}b.value.enableTransition=K}function ba(t){var I;((I=t.detail)==null?void 0:I.focusReason)==="pointer"&&t.preventDefault()}function pa(){s.closeOnPressEscape&&j()}function ga(t){if(t.ctrlKey){if(t.deltaY<0)return t.preventDefault(),!1;if(t.deltaY>0)return t.preventDefault(),!1}}return J(()=>h.value,t=>{b.value.scale=t}),J(q,()=>{pe(()=>{const t=y.value;t?.complete||(i.value=!0)})}),J(p,t=>{H(),n("switch",t)}),Je(()=>{ye(),g=te("wheel",ga,{passive:!1}),m=document.body.style.overflow,document.body.style.overflow="hidden"}),r({setActiveItem:be}),(t,I)=>(L(),ee(e(Ua),{to:"body",disabled:!t.teleported},{default:z(()=>[S(_a,{name:"viewer-fade",appear:""},{default:z(()=>[V("div",{ref_key:"wrapper",ref:d,tabindex:-1,class:x(e(u).e("wrapper")),style:Ne({zIndex:B.value})},[S(e(Ra),{loop:"",trapped:"","focus-trap-el":d.value,"focus-start-el":"container",onFocusoutPrevented:ba,onReleaseRequested:pa},{default:z(()=>[V("div",{class:x(e(u).e("mask")),onClick:Re(_=>t.hideOnClickModal&&j(),["self"])},null,10,["onClick"]),O(" CLOSE "),V("span",{class:x([e(u).e("btn"),e(u).e("close")]),onClick:j},[S(e(X),null,{default:z(()=>[S(e(Fa))]),_:1})],2),O(" ARROW "),e(Y)?O("v-if",!0):(L(),$(oe,{key:0},[V("span",{class:x(e(ke)),onClick:xe},[S(e(X),null,{default:z(()=>[S(e(Aa))]),_:1})],2),V("span",{class:x(e(ve)),onClick:_e},[S(e(X),null,{default:z(()=>[S(e(Da))]),_:1})],2)],64)),t.$slots.progress||t.showProgress?(L(),$("div",{key:1,class:x([e(u).e("btn"),e(u).e("progress")])},[T(t.$slots,"progress",{activeIndex:p.value,total:t.urlList.length},()=>[Fe(ge(e(me)),1)])],2)):O("v-if",!0),O(" ACTIONS "),V("div",{class:x([e(u).e("btn"),e(u).e("actions")])},[V("div",{class:x(e(u).e("actions__inner"))},[T(t.$slots,"toolbar",{actions:D,prev:xe,next:_e,reset:Ce,activeIndex:p.value,setActiveItem:be},()=>[S(e(X),{onClick:_=>D("zoomOut")},{default:z(()=>[S(e(Ma))]),_:1},8,["onClick"]),S(e(X),{onClick:_=>D("zoomIn")},{default:z(()=>[S(e(Ga))]),_:1},8,["onClick"]),V("i",{class:x(e(u).e("actions__divider"))},null,2),S(e(X),{onClick:Ce},{default:z(()=>[(L(),ee(Ae(e(k).icon)))]),_:1}),V("i",{class:x(e(u).e("actions__divider"))},null,2),S(e(X),{onClick:_=>D("anticlockwise")},{default:z(()=>[S(e(Ka))]),_:1},8,["onClick"]),S(e(X),{onClick:_=>D("clockwise")},{default:z(()=>[S(e(Xa))]),_:1},8,["onClick"])])],2)],2),O(" CANVAS "),V("div",{class:x(e(u).e("canvas"))},[C.value&&t.$slots["viewer-error"]?T(t.$slots,"viewer-error",{key:0,activeIndex:p.value,src:e(q)}):(L(),$("img",{ref_key:"imgRef",ref:y,key:e(q),src:e(q),style:Ne(e(fe)),class:x(e(u).e("img")),crossorigin:t.crossorigin,onLoad:o,onError:R,onMousedown:P},null,46,["src","crossorigin"]))],2),T(t.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var pl=ue(bl,[["__file","image-viewer.vue"]]);const gl=Ge(pl),hl=Me({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:U([String,Object])},previewSrcList:{type:U(Array),default:()=>ra([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:U(String)}}),kl={load:a=>a instanceof Event,error:a=>a instanceof Event,switch:a=>re(a),close:()=>!0,show:()=>!0},yl=A({name:"ElImage",inheritAttrs:!1}),wl=A({...yl,props:hl,emits:kl,setup(a,{expose:r,emit:n}){const l=a,{t:s}=la(),c=ce("image"),g=La(),m=v(()=>ta(Object.entries(g).filter(([o])=>/^(data-|on[A-Z])/i.test(o)||["id","style"].includes(o)))),w=Qa({excludeListeners:!0,excludeKeys:v(()=>Object.keys(m.value))}),u=N(),f=N(!1),d=N(!0),y=N(!1),E=N(),h=N(),i=ne&&"loading"in HTMLImageElement.prototype;let C;const p=v(()=>[c.e("inner"),b.value&&c.e("preview"),d.value&&c.is("loading")]),k=v(()=>{const{fit:o}=l;return ne&&o?{objectFit:o}:{}}),b=v(()=>{const{previewSrcList:o}=l;return Q(o)&&o.length>0}),B=v(()=>{const{previewSrcList:o,initialIndex:R}=l;let P=R;return R>o.length-1&&(P=0),P}),Y=v(()=>l.loading==="eager"?!1:!i&&l.loading==="lazy"||l.lazy),W=()=>{ne&&(d.value=!0,f.value=!1,u.value=l.src)};function de(o){d.value=!1,f.value=!1,n("load",o)}function q(o){d.value=!1,f.value=!0,n("error",o)}function ke(o){o&&(W(),me())}const ve=Wa(ke,200,!0);async function fe(){var o;if(!ne)return;await pe();const{scrollContainer:R}=l;if(Ya(R))h.value=R;else if(Ve(R)&&R!=="")h.value=(o=document.querySelector(R))!=null?o:void 0;else if(E.value){const H=Va(E.value);h.value=ja(H)?void 0:H}const{stop:P}=Ha(E,([H])=>{ve(H.isIntersecting)},{root:h});C=P}function me(){!ne||!ve||(C?.(),h.value=void 0,C=void 0)}function j(){b.value&&(y.value=!0,n("show"))}function ye(){y.value=!1,n("close")}function we(o){n("switch",o)}return J(()=>l.src,()=>{Y.value?(d.value=!0,f.value=!1,me(),fe()):W()}),Je(()=>{Y.value?fe():W()}),r({showPreview:j}),(o,R)=>(L(),$("div",se({ref_key:"container",ref:E},e(m),{class:[e(c).b(),o.$attrs.class]}),[f.value?T(o.$slots,"error",{key:0},()=>[V("div",{class:x(e(c).e("error"))},ge(e(s)("el.image.error")),3)]):(L(),$(oe,{key:1},[u.value!==void 0?(L(),$("img",se({key:0},e(w),{src:u.value,loading:o.loading,style:e(k),class:e(p),crossorigin:o.crossorigin,onClick:j,onLoad:de,onError:q}),null,16,["src","loading","crossorigin"])):O("v-if",!0),d.value?(L(),$("div",{key:1,class:x(e(c).e("wrapper"))},[T(o.$slots,"placeholder",{},()=>[V("div",{class:x(e(c).e("placeholder"))},null,2)])],2)):O("v-if",!0)],64)),e(b)?(L(),$(oe,{key:2},[y.value?(L(),ee(e(gl),{key:0,"z-index":o.zIndex,"initial-index":e(B),infinite:o.infinite,"zoom-rate":o.zoomRate,"min-scale":o.minScale,"max-scale":o.maxScale,"show-progress":o.showProgress,"url-list":o.previewSrcList,scale:o.scale,crossorigin:o.crossorigin,"hide-on-click-modal":o.hideOnClickModal,teleported:o.previewTeleported,"close-on-press-escape":o.closeOnPressEscape,onClose:ye,onSwitch:we},Ea({toolbar:z(P=>[T(o.$slots,"toolbar",Ee(Ie(P)))]),default:z(()=>[o.$slots.viewer?(L(),$("div",{key:0},[T(o.$slots,"viewer")])):O("v-if",!0)]),_:2},[o.$slots.progress?{name:"progress",fn:z(P=>[T(o.$slots,"progress",Ee(Ie(P)))])}:void 0,o.$slots["viewer-error"]?{name:"viewer-error",fn:z(P=>[T(o.$slots,"viewer-error",Ee(Ie(P)))])}:void 0]),1032,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","scale","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):O("v-if",!0)],64)):O("v-if",!0)],16))}});var Cl=ue(wl,[["__file","image.vue"]]);const Sl=Ge(Cl);export{Il as E,El as a,Sl as b,Qa as u};
