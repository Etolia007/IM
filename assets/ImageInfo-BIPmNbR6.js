import{i as He,g as le,b as Y,u as ge,a4 as Ai,W as it,A as Ze,k as Kt,l as Pr,j as Xe,D as Ii,a8 as xi,P as jo,z as yt,d as Ht,e as we,c as Fe,o as ae,E as Ce,M as Re,r as Ae,n as re,w as Pe,J as mt,Q as Ue,f as vn,T as Di,ah as Ki,B as bt,ae as Ri,x as Ln,y as Ea,H as gt,a3 as Ca,h as yn,q as Mo,C as Bi,ai as ji,v as Mi,p as No,$ as Ni,L as It,a5 as Fi,F as Nn,K as br,m as io,U as Li,G as so,a0 as Fn,aj as $i,I as la,ak as qi,al as Vi,am as zi}from"./index-WTDxWk-M.js";import{b1 as Wi,I as Er,b2 as Ar,ae as Yt,b3 as Fo,aj as Ui,ac as ha,ad as Ta,b4 as Gi,ai as Hi,aa as Yi,ah as mn,am as Lo,b5 as ka,b6 as Cr,b7 as $o,af as Qi,b8 as bn,ag as uo,ab as Ji,b9 as qo,ao as Vo,ba as Xi,a9 as Zi,bb as es,b as Ir,s as Je,Y as qn,a$ as ts,bc as Pa,bd as zo,b0 as Aa,O as ca,be as ns,_ as Vn,u as gn,Q as lo,g as va,w as Wo,n as Ut,d as rs,as,i as wr,bf as co,y as fo,E as os,J as is,aq as ss,aw as po,bg as us,e as ls,m as ho,ar as cs,bh as fs,bi as ds,C as ps,j as hs,H as vs,o as ys,a as Uo}from"./el-popper-cYwa1dRB.js";var ms=/\s/;function gs(n){for(var u=n.length;u--&&ms.test(n.charAt(u)););return u}var bs=/^\s+/;function ws(n){return n&&n.slice(0,gs(n)+1).replace(bs,"")}var vo=NaN,_s=/^[-+]0x[0-9a-f]+$/i,Os=/^0b[01]+$/i,Ss=/^0o[0-7]+$/i,Es=parseInt;function yo(n){if(typeof n=="number")return n;if(Wi(n))return vo;if(Er(n)){var u=typeof n.valueOf=="function"?n.valueOf():n;n=Er(u)?u+"":u}if(typeof n!="string")return n===0?n:+n;n=ws(n);var f=Os.test(n);return f||Ss.test(n)?Es(n.slice(2),f?2:8):_s.test(n)?vo:+n}var ya=Ar(Yt,"WeakMap");function Cs(n,u,f,_){n.length;for(var k=f+1;k--;)if(u(n[k],k,n))return k;return-1}function Ts(n){return n!=null&&Fo(n.length)&&!Ui(n)}var ks=Object.prototype;function Ps(n){var u=n&&n.constructor,f=typeof u=="function"&&u.prototype||ks;return n===f}function As(n,u){for(var f=-1,_=Array(n);++f<n;)_[f]=u(f);return _}function Is(){return!1}var Go=typeof exports=="object"&&exports&&!exports.nodeType&&exports,mo=Go&&typeof module=="object"&&module&&!module.nodeType&&module,xs=mo&&mo.exports===Go,go=xs?Yt.Buffer:void 0,Ds=go?go.isBuffer:void 0,ma=Ds||Is,Ks="[object Arguments]",Rs="[object Array]",Bs="[object Boolean]",js="[object Date]",Ms="[object Error]",Ns="[object Function]",Fs="[object Map]",Ls="[object Number]",$s="[object Object]",qs="[object RegExp]",Vs="[object Set]",zs="[object String]",Ws="[object WeakMap]",Us="[object ArrayBuffer]",Gs="[object DataView]",Hs="[object Float32Array]",Ys="[object Float64Array]",Qs="[object Int8Array]",Js="[object Int16Array]",Xs="[object Int32Array]",Zs="[object Uint8Array]",eu="[object Uint8ClampedArray]",tu="[object Uint16Array]",nu="[object Uint32Array]",ve={};ve[Hs]=ve[Ys]=ve[Qs]=ve[Js]=ve[Xs]=ve[Zs]=ve[eu]=ve[tu]=ve[nu]=!0;ve[Ks]=ve[Rs]=ve[Us]=ve[Bs]=ve[Gs]=ve[js]=ve[Ms]=ve[Ns]=ve[Fs]=ve[Ls]=ve[$s]=ve[qs]=ve[Vs]=ve[zs]=ve[Ws]=!1;function ru(n){return ha(n)&&Fo(n.length)&&!!ve[Ta(n)]}function au(n){return function(u){return n(u)}}var Ho=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$n=Ho&&typeof module=="object"&&module&&!module.nodeType&&module,ou=$n&&$n.exports===Ho,fa=ou&&Gi.process,bo=(function(){try{var n=$n&&$n.require&&$n.require("util").types;return n||fa&&fa.binding&&fa.binding("util")}catch{}})(),wo=bo&&bo.isTypedArray,Yo=wo?au(wo):ru,iu=Object.prototype,su=iu.hasOwnProperty;function uu(n,u){var f=mn(n),_=!f&&Hi(n),k=!f&&!_&&ma(n),P=!f&&!_&&!k&&Yo(n),h=f||_||k||P,A=h?As(n.length,String):[],D=A.length;for(var I in n)(u||su.call(n,I))&&!(h&&(I=="length"||k&&(I=="offset"||I=="parent")||P&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||Yi(I,D)))&&A.push(I);return A}function lu(n,u){return function(f){return n(u(f))}}var cu=lu(Object.keys,Object),fu=Object.prototype,du=fu.hasOwnProperty;function pu(n){if(!Ps(n))return cu(n);var u=[];for(var f in Object(n))du.call(n,f)&&f!="constructor"&&u.push(f);return u}function Qo(n){return Ts(n)?uu(n):pu(n)}function Ge(n,u,f){var _=n==null?void 0:Lo(n,u);return _===void 0?f:_}function Dt(){if(!arguments.length)return[];var n=arguments[0];return mn(n)?n:[n]}function hu(){this.__data__=new ka,this.size=0}function vu(n){var u=this.__data__,f=u.delete(n);return this.size=u.size,f}function yu(n){return this.__data__.get(n)}function mu(n){return this.__data__.has(n)}var gu=200;function bu(n,u){var f=this.__data__;if(f instanceof ka){var _=f.__data__;if(!Cr||_.length<gu-1)return _.push([n,u]),this.size=++f.size,this;f=this.__data__=new $o(_)}return f.set(n,u),this.size=f.size,this}function wt(n){var u=this.__data__=new ka(n);this.size=u.size}wt.prototype.clear=hu;wt.prototype.delete=vu;wt.prototype.get=yu;wt.prototype.has=mu;wt.prototype.set=bu;function wu(n,u){for(var f=-1,_=n==null?0:n.length,k=0,P=[];++f<_;){var h=n[f];u(h,f,n)&&(P[k++]=h)}return P}function _u(){return[]}var Ou=Object.prototype,Su=Ou.propertyIsEnumerable,_o=Object.getOwnPropertySymbols,Eu=_o?function(n){return n==null?[]:(n=Object(n),wu(_o(n),function(u){return Su.call(n,u)}))}:_u;function Cu(n,u,f){var _=u(n);return mn(n)?_:Qi(_,f(n))}function Oo(n){return Cu(n,Qo,Eu)}var ga=Ar(Yt,"DataView"),ba=Ar(Yt,"Promise"),wa=Ar(Yt,"Set"),So="[object Map]",Tu="[object Object]",Eo="[object Promise]",Co="[object Set]",To="[object WeakMap]",ko="[object DataView]",ku=bn(ga),Pu=bn(Cr),Au=bn(ba),Iu=bn(wa),xu=bn(ya),xt=Ta;(ga&&xt(new ga(new ArrayBuffer(1)))!=ko||Cr&&xt(new Cr)!=So||ba&&xt(ba.resolve())!=Eo||wa&&xt(new wa)!=Co||ya&&xt(new ya)!=To)&&(xt=function(n){var u=Ta(n),f=u==Tu?n.constructor:void 0,_=f?bn(f):"";if(_)switch(_){case ku:return ko;case Pu:return So;case Au:return Eo;case Iu:return Co;case xu:return To}return u});var Po=Yt.Uint8Array,Du="__lodash_hash_undefined__";function Ku(n){return this.__data__.set(n,Du),this}function Ru(n){return this.__data__.has(n)}function Tr(n){var u=-1,f=n==null?0:n.length;for(this.__data__=new $o;++u<f;)this.add(n[u])}Tr.prototype.add=Tr.prototype.push=Ku;Tr.prototype.has=Ru;function Bu(n,u){for(var f=-1,_=n==null?0:n.length;++f<_;)if(u(n[f],f,n))return!0;return!1}function ju(n,u){return n.has(u)}var Mu=1,Nu=2;function Jo(n,u,f,_,k,P){var h=f&Mu,A=n.length,D=u.length;if(A!=D&&!(h&&D>A))return!1;var I=P.get(n),W=P.get(u);if(I&&W)return I==u&&W==n;var M=-1,N=!0,q=f&Nu?new Tr:void 0;for(P.set(n,u),P.set(u,n);++M<A;){var U=n[M],ee=u[M];if(_)var ce=h?_(ee,U,M,u,n,P):_(U,ee,M,n,u,P);if(ce!==void 0){if(ce)continue;N=!1;break}if(q){if(!Bu(u,function(X,H){if(!ju(q,H)&&(U===X||k(U,X,f,_,P)))return q.push(H)})){N=!1;break}}else if(!(U===ee||k(U,ee,f,_,P))){N=!1;break}}return P.delete(n),P.delete(u),N}function Fu(n){var u=-1,f=Array(n.size);return n.forEach(function(_,k){f[++u]=[k,_]}),f}function Lu(n){var u=-1,f=Array(n.size);return n.forEach(function(_){f[++u]=_}),f}var $u=1,qu=2,Vu="[object Boolean]",zu="[object Date]",Wu="[object Error]",Uu="[object Map]",Gu="[object Number]",Hu="[object RegExp]",Yu="[object Set]",Qu="[object String]",Ju="[object Symbol]",Xu="[object ArrayBuffer]",Zu="[object DataView]",Ao=uo?uo.prototype:void 0,da=Ao?Ao.valueOf:void 0;function el(n,u,f,_,k,P,h){switch(f){case Zu:if(n.byteLength!=u.byteLength||n.byteOffset!=u.byteOffset)return!1;n=n.buffer,u=u.buffer;case Xu:return!(n.byteLength!=u.byteLength||!P(new Po(n),new Po(u)));case Vu:case zu:case Gu:return Ji(+n,+u);case Wu:return n.name==u.name&&n.message==u.message;case Hu:case Qu:return n==u+"";case Uu:var A=Fu;case Yu:var D=_&$u;if(A||(A=Lu),n.size!=u.size&&!D)return!1;var I=h.get(n);if(I)return I==u;_|=qu,h.set(n,u);var W=Jo(A(n),A(u),_,k,P,h);return h.delete(n),W;case Ju:if(da)return da.call(n)==da.call(u)}return!1}var tl=1,nl=Object.prototype,rl=nl.hasOwnProperty;function al(n,u,f,_,k,P){var h=f&tl,A=Oo(n),D=A.length,I=Oo(u),W=I.length;if(D!=W&&!h)return!1;for(var M=D;M--;){var N=A[M];if(!(h?N in u:rl.call(u,N)))return!1}var q=P.get(n),U=P.get(u);if(q&&U)return q==u&&U==n;var ee=!0;P.set(n,u),P.set(u,n);for(var ce=h;++M<D;){N=A[M];var X=n[N],H=u[N];if(_)var fe=h?_(H,X,N,u,n,P):_(X,H,N,n,u,P);if(!(fe===void 0?X===H||k(X,H,f,_,P):fe)){ee=!1;break}ce||(ce=N=="constructor")}if(ee&&!ce){var Ee=n.constructor,me=u.constructor;Ee!=me&&"constructor"in n&&"constructor"in u&&!(typeof Ee=="function"&&Ee instanceof Ee&&typeof me=="function"&&me instanceof me)&&(ee=!1)}return P.delete(n),P.delete(u),ee}var ol=1,Io="[object Arguments]",xo="[object Array]",_r="[object Object]",il=Object.prototype,Do=il.hasOwnProperty;function sl(n,u,f,_,k,P){var h=mn(n),A=mn(u),D=h?xo:xt(n),I=A?xo:xt(u);D=D==Io?_r:D,I=I==Io?_r:I;var W=D==_r,M=I==_r,N=D==I;if(N&&ma(n)){if(!ma(u))return!1;h=!0,W=!1}if(N&&!W)return P||(P=new wt),h||Yo(n)?Jo(n,u,f,_,k,P):el(n,u,D,f,_,k,P);if(!(f&ol)){var q=W&&Do.call(n,"__wrapped__"),U=M&&Do.call(u,"__wrapped__");if(q||U){var ee=q?n.value():n,ce=U?u.value():u;return P||(P=new wt),k(ee,ce,f,_,P)}}return N?(P||(P=new wt),al(n,u,f,_,k,P)):!1}function xr(n,u,f,_,k){return n===u?!0:n==null||u==null||!ha(n)&&!ha(u)?n!==n&&u!==u:sl(n,u,f,_,xr,k)}var ul=1,ll=2;function cl(n,u,f,_){var k=f.length,P=k;if(n==null)return!P;for(n=Object(n);k--;){var h=f[k];if(h[2]?h[1]!==n[h[0]]:!(h[0]in n))return!1}for(;++k<P;){h=f[k];var A=h[0],D=n[A],I=h[1];if(h[2]){if(D===void 0&&!(A in n))return!1}else{var W=new wt,M;if(!(M===void 0?xr(I,D,ul|ll,_,W):M))return!1}}return!0}function Xo(n){return n===n&&!Er(n)}function fl(n){for(var u=Qo(n),f=u.length;f--;){var _=u[f],k=n[_];u[f]=[_,k,Xo(k)]}return u}function Zo(n,u){return function(f){return f==null?!1:f[n]===u&&(u!==void 0||n in Object(f))}}function dl(n){var u=fl(n);return u.length==1&&u[0][2]?Zo(u[0][0],u[0][1]):function(f){return f===n||cl(f,n,u)}}var pl=1,hl=2;function vl(n,u){return qo(n)&&Xo(u)?Zo(Vo(n),u):function(f){var _=Ge(f,n);return _===void 0&&_===u?Xi(f,n):xr(u,_,pl|hl)}}function yl(n){return function(u){return u?.[n]}}function ml(n){return function(u){return Lo(u,n)}}function gl(n){return qo(n)?yl(Vo(n)):ml(n)}function bl(n){return typeof n=="function"?n:n==null?Zi:typeof n=="object"?mn(n)?vl(n[0],n[1]):dl(n):gl(n)}var pa=function(){return Yt.Date.now()},wl="Expected a function",_l=Math.max,Ol=Math.min;function Sl(n,u,f){var _,k,P,h,A,D,I=0,W=!1,M=!1,N=!0;if(typeof n!="function")throw new TypeError(wl);u=yo(u)||0,Er(f)&&(W=!!f.leading,M="maxWait"in f,P=M?_l(yo(f.maxWait)||0,u):P,N="trailing"in f?!!f.trailing:N);function q(ne){var pe=_,Ie=k;return _=k=void 0,I=ne,h=n.apply(Ie,pe),h}function U(ne){return I=ne,A=setTimeout(X,u),W?q(ne):h}function ee(ne){var pe=ne-D,Ie=ne-I,Rt=u-pe;return M?Ol(Rt,P-Ie):Rt}function ce(ne){var pe=ne-D,Ie=ne-I;return D===void 0||pe>=u||pe<0||M&&Ie>=P}function X(){var ne=pa();if(ce(ne))return H(ne);A=setTimeout(X,ee(ne))}function H(ne){return A=void 0,N&&_?q(ne):(_=k=void 0,h)}function fe(){A!==void 0&&clearTimeout(A),I=0,_=D=k=A=void 0}function Ee(){return A===void 0?h:H(pa())}function me(){var ne=pa(),pe=ce(ne);if(_=arguments,k=this,D=ne,pe){if(A===void 0)return U(D);if(M)return clearTimeout(A),A=setTimeout(X,u),q(D)}return A===void 0&&(A=setTimeout(X,u)),h}return me.cancel=fe,me.flush=Ee,me}function El(n,u,f){var _=n==null?0:n.length;if(!_)return-1;var k=_-1;return Cs(n,bl(u),k)}function Gt(n,u){return xr(n,u)}var Cl={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish",close:"Close this dialog"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const Tl=n=>(u,f)=>kl(u,f,ge(n)),kl=(n,u,f)=>Ge(f,n,n).replace(/\{(\w+)\}/g,(_,k)=>{var P;return`${(P=u?.[k])!=null?P:`{${k}}`}`}),Pl=n=>{const u=Y(()=>ge(n).name),f=Ai(n)?n:le(n);return{lang:u,locale:f,t:Tl(n)}},Al=Symbol("localeContextKey"),Il=n=>{const u=n||He(Al,le());return Pl(Y(()=>u.value||Cl))},ei=["","default","small","large"],xl=es({type:String,values:ei,required:!1}),Dl=Symbol("size"),Kl=()=>{const n=He(Dl,{});return Y(()=>ge(n.size)||"")},Rl=Symbol("emptyValuesContextKey"),Bl=["",void 0,null],jl=void 0,Ml=Ir({emptyValues:Array,valueOnClear:{type:Je([String,Number,Boolean,Function]),default:void 0,validator:n=>(n=it(n)?n():n,Ze(n)?n.every(u=>!u):!n)}}),Nl=(n,u)=>{const f=Kt()?He(Rl,le({})):le({}),_=Y(()=>n.emptyValues||f.value.emptyValues||Bl),k=Y(()=>it(n.valueOnClear)?n.valueOnClear():n.valueOnClear!==void 0?n.valueOnClear:it(f.value.valueOnClear)?f.value.valueOnClear():f.value.valueOnClear!==void 0?f.value.valueOnClear:jl),P=h=>{let A=!0;return Ze(h)?A=_.value.some(D=>Gt(h,D)):A=_.value.includes(h),A};return P(k.value),{emptyValues:_,valueOnClear:k,isEmptyValue:P}},hn="update:modelValue",ti="change",Cc="input",Fl=(n,u)=>{if(!qn)return!1;const f={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(u)],_=ts(n,f);return["scroll","auto","overlay"].some(k=>_.includes(k))},Tc=(n,u)=>{if(!qn)return;let f=n;for(;f;){if([window,document,document.documentElement].includes(f))return window;if(Fl(f,u))return f;f=f.parentNode}return f};let Or;const kc=n=>{var u;if(!qn)return 0;if(Or!==void 0)return Or;const f=document.createElement("div");f.className=`${n}-scrollbar__wrap`,f.style.visibility="hidden",f.style.width="100px",f.style.position="absolute",f.style.top="-9999px",document.body.appendChild(f);const _=f.offsetWidth;f.style.overflow="scroll";const k=document.createElement("div");k.style.width="100%",f.appendChild(k);const P=k.offsetWidth;return(u=f.parentNode)==null||u.removeChild(f),Or=_-P,Or};function Ll(n,u){if(!qn)return;if(!u){n.scrollTop=0;return}const f=[];let _=u.offsetParent;for(;_!==null&&n!==_&&n.contains(_);)f.push(_),_=_.offsetParent;const k=u.offsetTop+f.reduce((D,I)=>D+I.offsetTop,0),P=k+u.offsetHeight,h=n.scrollTop,A=h+n.clientHeight;k<h?n.scrollTop=k:P>A&&(n.scrollTop=P-n.clientHeight)}const $l=()=>{const n=He(Pa,void 0),u=He(zo,void 0);return{form:n,formItem:u}},ql=(n,{formItemContext:u,disableIdGeneration:f,disableIdManagement:_})=>{f||(f=le(!1)),_||(_=le(!1));const k=Kt(),P=()=>{let I=k?.parent;for(;I;){if(I.type.name==="ElFormItem")return!1;if(I.type.name==="ElLabelWrap")return!0;I=I.parent}return!1},h=le();let A;const D=Y(()=>{var I;return!!(!(n.label||n.ariaLabel)&&u&&u.inputIds&&((I=u.inputIds)==null?void 0:I.length)<=1)});return Pr(()=>{A=Xe([Ii(n,"id"),f],([I,W])=>{const M=I??(W?void 0:Aa().value);M!==h.value&&(u?.removeInputId&&!P()&&(h.value&&u.removeInputId(h.value),!_?.value&&!W&&M&&u.addInputId(M)),h.value=M)},{immediate:!0})}),xi(()=>{A&&A(),u?.removeInputId&&h.value&&u.removeInputId(h.value)}),{isLabeledByFormItem:D,inputId:h}},ni=n=>{const u=Kt();return Y(()=>{var f,_;return(_=(f=u?.proxy)==null?void 0:f.$props)==null?void 0:_[n]})},ri=(n,u={})=>{const f=le(void 0),_=u.prop?f:ni("size"),k=u.global?f:Kl(),P=u.form?{size:void 0}:He(Pa,void 0),h=u.formItem?{size:void 0}:He(zo,void 0);return Y(()=>_.value||ge(n)||h?.size||P?.size||k.value||"")},Pc=n=>{const u=ni("disabled"),f=He(Pa,void 0);return Y(()=>u.value||ge(n)||f?.disabled||!1)};function Vl(n,{disabled:u,beforeFocus:f,afterFocus:_,beforeBlur:k,afterBlur:P}={}){const h=Kt(),{emit:A}=h,D=jo(),I=le(!1),W=q=>{const U=it(f)?f(q):!1;ge(u)||I.value||U||(I.value=!0,A("focus",q),_?.())},M=q=>{var U;const ee=it(k)?k(q):!1;ge(u)||q.relatedTarget&&((U=D.value)!=null&&U.contains(q.relatedTarget))||ee||(I.value=!1,A("blur",q),P?.())},N=q=>{var U,ee;ge(u)||ns(q.target)||(U=D.value)!=null&&U.contains(document.activeElement)&&D.value!==document.activeElement||(ee=n.value)==null||ee.focus()};return Xe([D,()=>ge(u)],([q,U])=>{q&&(U?q.removeAttribute("tabindex"):q.setAttribute("tabindex","-1"))}),ca(D,"focus",W,!0),ca(D,"blur",M,!0),ca(D,"click",N,!0),{isFocused:I,wrapperRef:D,handleFocus:W,handleBlur:M}}const zl=n=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(n);function Wl({afterComposition:n,emit:u}){const f=le(!1),_=A=>{u?.("compositionstart",A),f.value=!0},k=A=>{var D;u?.("compositionupdate",A);const I=(D=A.target)==null?void 0:D.value,W=I[I.length-1]||"";f.value=!zl(W)},P=A=>{u?.("compositionend",A),f.value&&(f.value=!1,yt(()=>n(A)))};return{isComposing:f,handleComposition:A=>{A.type==="compositionend"?P(A):k(A)},handleCompositionStart:_,handleCompositionUpdate:k,handleCompositionEnd:P}}const _a=Ir({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:ei},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Ul={close:n=>n instanceof MouseEvent,click:n=>n instanceof MouseEvent},Gl=Ht({name:"ElTag"}),Hl=Ht({...Gl,props:_a,emits:Ul,setup(n,{emit:u}){const f=n,_=ri(),k=gn("tag"),P=Y(()=>{const{type:I,hit:W,effect:M,closable:N,round:q}=f;return[k.b(),k.is("closable",N),k.m(I||"primary"),k.m(_.value),k.m(M),k.is("hit",W),k.is("round",q)]}),h=I=>{u("close",I)},A=I=>{u("click",I)},D=I=>{var W,M,N;(N=(M=(W=I?.component)==null?void 0:W.subTree)==null?void 0:M.component)!=null&&N.bum&&(I.component.subTree.component.bum=null)};return(I,W)=>I.disableTransitions?(ae(),we("span",{key:0,class:re(ge(P)),style:vn({backgroundColor:I.color}),onClick:A},[Ce("span",{class:re(ge(k).e("content"))},[Ae(I.$slots,"default")],2),I.closable?(ae(),Fe(ge(va),{key:0,class:re(ge(k).e("close")),onClick:Ue(h,["stop"])},{default:Pe(()=>[mt(ge(lo))]),_:1},8,["class","onClick"])):Re("v-if",!0)],6)):(ae(),Fe(Di,{key:1,name:`${ge(k).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:D},{default:Pe(()=>[Ce("span",{class:re(ge(P)),style:vn({backgroundColor:I.color}),onClick:A},[Ce("span",{class:re(ge(k).e("content"))},[Ae(I.$slots,"default")],2),I.closable?(ae(),Fe(ge(va),{key:0,class:re(ge(k).e("close")),onClick:Ue(h,["stop"])},{default:Pe(()=>[mt(ge(lo))]),_:1},8,["class","onClick"])):Re("v-if",!0)],6)]),_:3},8,["name"]))}});var Yl=Vn(Hl,[["__file","tag.vue"]]);const Ql=Wo(Yl),ai=11,Jl=2;function Xl(){const n=jo(),u=le(0),f=Y(()=>({minWidth:`${Math.max(u.value,ai)}px`}));return Ut(n,()=>{var k,P;u.value=(P=(k=n.value)==null?void 0:k.getBoundingClientRect().width)!=null?P:0}),{calculatorRef:n,calculatorWidth:u,inputStyle:f}}const oi={label:"label",value:"value",disabled:"disabled",options:"options"};function Zl(n){const u=Y(()=>({...oi,...n.props}));return{aliasProps:u,getLabel:h=>Ge(h,u.value.label),getValue:h=>Ge(h,u.value.value),getDisabled:h=>Ge(h,u.value.disabled),getOptions:h=>Ge(h,u.value.options)}}const ii=Symbol("ElSelectGroup"),Dr=Symbol("ElSelect"),Oa="ElOption",ec=Ir({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean}),tc=(n="")=>n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Ac=n=>Ki(n);function nc(n,u){const f=He(Dr);f||rs(Oa,"usage: <el-select><el-option /></el-select/>");const _=He(ii,{disabled:!1}),k=Y(()=>W(Dt(f.props.modelValue),n.value)),P=Y(()=>{var q;if(f.props.multiple){const U=Dt((q=f.props.modelValue)!=null?q:[]);return!k.value&&U.length>=f.props.multipleLimit&&f.props.multipleLimit>0}else return!1}),h=Y(()=>{var q;return(q=n.label)!=null?q:bt(n.value)?"":n.value}),A=Y(()=>n.value||n.label||""),D=Y(()=>n.disabled||u.groupDisabled||P.value),I=Kt(),W=(q=[],U)=>{if(bt(n.value)){const ee=f.props.valueKey;return q&&q.some(ce=>Ri(Ge(ce,ee))===Ge(U,ee))}else return q&&q.includes(U)},M=()=>{!n.disabled&&!_.disabled&&(f.states.hoveringIndex=f.optionsArray.indexOf(I.proxy))},N=q=>{const U=new RegExp(tc(q),"i");u.visible=U.test(String(h.value))||n.created};return Xe(()=>h.value,()=>{!n.created&&!f.props.remote&&f.setSelected()}),Xe(()=>n.value,(q,U)=>{const{remote:ee,valueKey:ce}=f.props;if((ee?q!==U:!Gt(q,U))&&(f.onOptionDestroy(U,I.proxy),f.onOptionCreate(I.proxy)),!n.created&&!ee){if(ce&&bt(q)&&bt(U)&&q[ce]===U[ce])return;f.setSelected()}}),Xe(()=>_.disabled,()=>{u.groupDisabled=_.disabled},{immediate:!0}),{select:f,currentLabel:h,currentValue:A,itemSelected:k,isDisabled:D,hoverItem:M,updateOption:N}}const rc=Ht({name:Oa,componentName:Oa,props:ec,setup(n){const u=gn("select"),f=Aa(),_=Y(()=>[u.be("dropdown","item"),u.is("disabled",ge(A)),u.is("selected",ge(h)),u.is("hovering",ge(N))]),k=yn({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:P,itemSelected:h,isDisabled:A,select:D,hoverItem:I,updateOption:W}=nc(n,k),{visible:M,hover:N}=Ca(k),q=Kt().proxy;D.onOptionCreate(q),Mo(()=>{const ee=q.value;yt(()=>{const{selected:ce}=D.states,X=ce.some(H=>H.value===q.value);D.states.cachedOptions.get(ee)===q&&!X&&D.states.cachedOptions.delete(ee)}),D.onOptionDestroy(ee,q)});function U(){A.value||D.handleOptionSelect(q)}return{ns:u,id:f,containerKls:_,currentLabel:P,itemSelected:h,isDisabled:A,select:D,visible:M,hover:N,states:k,hoverItem:I,updateOption:W,selectOptionClick:U}}});function ac(n,u){return Ln((ae(),we("li",{id:n.id,class:re(n.containerKls),role:"option","aria-disabled":n.isDisabled||void 0,"aria-selected":n.itemSelected,onMousemove:n.hoverItem,onClick:Ue(n.selectOptionClick,["stop"])},[Ae(n.$slots,"default",{},()=>[Ce("span",null,gt(n.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[Ea,n.visible]])}var Ia=Vn(rc,[["render",ac],["__file","option.vue"]]);const oc=Ht({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const n=He(Dr),u=gn("select"),f=Y(()=>n.props.popperClass),_=Y(()=>n.props.multiple),k=Y(()=>n.props.fitInputWidth),P=le("");function h(){var A;const D=(A=n.selectRef)==null?void 0:A.offsetWidth;D?P.value=`${D-Jl}px`:P.value=""}return Pr(()=>{h(),Ut(n.selectRef,h)}),{ns:u,minWidth:P,popperClass:f,isMultiple:_,isFitInputWidth:k}}});function ic(n,u,f,_,k,P){return ae(),we("div",{class:re([n.ns.b("dropdown"),n.ns.is("multiple",n.isMultiple),n.popperClass]),style:vn({[n.isFitInputWidth?"width":"minWidth"]:n.minWidth})},[n.$slots.header?(ae(),we("div",{key:0,class:re(n.ns.be("dropdown","header"))},[Ae(n.$slots,"header")],2)):Re("v-if",!0),Ae(n.$slots,"default"),n.$slots.footer?(ae(),we("div",{key:1,class:re(n.ns.be("dropdown","footer"))},[Ae(n.$slots,"footer")],2)):Re("v-if",!0)],6)}var sc=Vn(oc,[["render",ic],["__file","select-dropdown.vue"]]);const uc=(n,u)=>{const{t:f}=Il(),_=Aa(),k=gn("select"),P=gn("input"),h=yn({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),A=le(),D=le(),I=le(),W=le(),M=le(),N=le(),q=le(),U=le(),ee=le(),ce=le(),X=le(),H=le(!1),fe=le(),{form:Ee,formItem:me}=$l(),{inputId:ne}=ql(n,{formItemContext:me}),{valueOnClear:pe,isEmptyValue:Ie}=Nl(n),{isComposing:Rt,handleCompositionStart:zn,handleCompositionUpdate:Wn,handleCompositionEnd:Bt}=Wl({afterComposition:S=>Xt(S)}),Le=Y(()=>n.disabled||!!Ee?.disabled),{wrapperRef:Un,isFocused:jt,handleBlur:wn}=Vl(M,{disabled:Le,afterFocus(){n.automaticDropdown&&!H.value&&(H.value=!0,h.menuVisibleOnFocus=!0)},beforeBlur(S){var R,Q;return((R=I.value)==null?void 0:R.isFocusInsideContent(S))||((Q=W.value)==null?void 0:Q.isFocusInsideContent(S))},afterBlur(){var S;H.value=!1,h.menuVisibleOnFocus=!1,n.validateEvent&&((S=me?.validate)==null||S.call(me,"blur").catch(R=>fo()))}}),_n=Y(()=>Ze(n.modelValue)?n.modelValue.length>0:!Ie(n.modelValue)),st=Y(()=>{var S;return(S=Ee?.statusIcon)!=null?S:!1}),_t=Y(()=>n.clearable&&!Le.value&&_n.value&&(jt.value||h.inputHovering)),qe=Y(()=>n.remote&&n.filterable&&!n.remoteShowSuffix?"":n.suffixIcon),On=Y(()=>k.is("reverse",!!(qe.value&&H.value))),Sn=Y(()=>me?.validateState||""),Ot=Y(()=>Sn.value&&as[Sn.value]),Gn=Y(()=>n.remote?300:0),Qt=Y(()=>n.remote&&!h.inputValue&&h.options.size===0),St=Y(()=>n.loading?n.loadingText||f("el.select.loading"):n.filterable&&h.inputValue&&h.options.size>0&&ut.value===0?n.noMatchText||f("el.select.noMatch"):h.options.size===0?n.noDataText||f("el.select.noData"):null),ut=Y(()=>ke.value.filter(S=>S.visible).length),ke=Y(()=>{const S=Array.from(h.options.values()),R=[];return h.optionValues.forEach(Q=>{const ye=S.findIndex(Be=>Be.value===Q);ye>-1&&R.push(S[ye])}),R.length>=S.length?R:S}),G=Y(()=>Array.from(h.cachedOptions.values())),Hn=Y(()=>{const S=ke.value.filter(R=>!R.created).some(R=>R.currentLabel===h.inputValue);return n.filterable&&n.allowCreate&&h.inputValue!==""&&!S}),Mt=()=>{n.filterable&&it(n.filterMethod)||n.filterable&&n.remote&&it(n.remoteMethod)||ke.value.forEach(S=>{var R;(R=S.updateOption)==null||R.call(S,h.inputValue)})},ue=ri(),Nt=Y(()=>["small"].includes(ue.value)?"small":"default"),Yn=Y({get(){return H.value&&!Qt.value},set(S){H.value=S}}),lt=Y(()=>{if(n.multiple&&!wr(n.modelValue))return Dt(n.modelValue).length===0&&!h.inputValue;const S=Ze(n.modelValue)?n.modelValue[0]:n.modelValue;return n.filterable||wr(S)?!h.inputValue:!0}),Kr=Y(()=>{var S;const R=(S=n.placeholder)!=null?S:f("el.select.placeholder");return n.multiple||!_n.value?R:h.selectedLabel}),Rr=Y(()=>co?null:"mouseenter");Xe(()=>n.modelValue,(S,R)=>{n.multiple&&n.filterable&&!n.reserveKeyword&&(h.inputValue="",Jt("")),Et(),!Gt(S,R)&&n.validateEvent&&me?.validate("change").catch(Q=>fo())},{flush:"post",deep:!0}),Xe(()=>H.value,S=>{S?Jt(h.inputValue):(h.inputValue="",h.previousQuery=null,h.isBeforeHide=!0),u("visible-change",S)}),Xe(()=>h.options.entries(),()=>{qn&&(Et(),n.defaultFirstOption&&(n.filterable||n.remote)&&ut.value&&Qn())},{flush:"post"}),Xe([()=>h.hoveringIndex,ke],([S])=>{is(S)&&S>-1?fe.value=ke.value[S]||{}:fe.value={},ke.value.forEach(R=>{R.hover=fe.value===R})}),Bi(()=>{h.isBeforeHide||Mt()});const Jt=S=>{h.previousQuery===S||Rt.value||(h.previousQuery=S,n.filterable&&it(n.filterMethod)?n.filterMethod(S):n.filterable&&n.remote&&it(n.remoteMethod)&&n.remoteMethod(S),n.defaultFirstOption&&(n.filterable||n.remote)&&ut.value?yt(Qn):yt(Jn))},Qn=()=>{const S=ke.value.filter(Be=>Be.visible&&!Be.disabled&&!Be.states.groupDisabled),R=S.find(Be=>Be.created),Q=S[0],ye=ke.value.map(Be=>Be.value);h.hoveringIndex=z(ye,R||Q)},Et=()=>{if(n.multiple)h.selectedLabel="";else{const R=Ze(n.modelValue)?n.modelValue[0]:n.modelValue,Q=Ne(R);h.selectedLabel=Q.currentLabel,h.selected=[Q];return}const S=[];wr(n.modelValue)||Dt(n.modelValue).forEach(R=>{S.push(Ne(R))}),h.selected=S},Ne=S=>{let R;const Q=ji(S);for(let je=h.cachedOptions.size-1;je>=0;je--){const Ve=G.value[je];if(Q?Ge(Ve.value,n.valueKey)===Ge(S,n.valueKey):Ve.value===S){R={index:ke.value.filter(rt=>!rt.created).indexOf(Ve),value:S,currentLabel:Ve.currentLabel,get isDisabled(){return Ve.isDisabled}};break}}if(R)return R;const ye=Q?S.label:S??"";return{index:-1,value:S,currentLabel:ye}},Jn=()=>{h.hoveringIndex=ke.value.findIndex(S=>h.selected.some(R=>Qe(R)===Qe(S)))},Ft=()=>{h.selectionWidth=Number.parseFloat(window.getComputedStyle(D.value).width)},Xn=()=>{h.collapseItemWidth=ce.value.getBoundingClientRect().width},ct=()=>{var S,R;(R=(S=I.value)==null?void 0:S.updatePopper)==null||R.call(S)},et=()=>{var S,R;(R=(S=W.value)==null?void 0:S.updatePopper)==null||R.call(S)},tt=()=>{h.inputValue.length>0&&!H.value&&(H.value=!0),Jt(h.inputValue)},Xt=S=>{if(h.inputValue=S.target.value,n.remote)Ct();else return tt()},Ct=Sl(()=>{tt()},Gn.value),ft=S=>{Gt(n.modelValue,S)||u(ti,S)},Zt=S=>El(S,R=>{const Q=h.cachedOptions.get(R);return Q&&!Q.disabled&&!Q.states.groupDisabled}),dt=S=>{if(n.multiple&&S.code!==os.delete&&S.target.value.length<=0){const R=Dt(n.modelValue).slice(),Q=Zt(R);if(Q<0)return;const ye=R[Q];R.splice(Q,1),u(hn,R),ft(R),u("remove-tag",ye)}},en=(S,R)=>{const Q=h.selected.indexOf(R);if(Q>-1&&!Le.value){const ye=Dt(n.modelValue).slice();ye.splice(Q,1),u(hn,ye),ft(ye),u("remove-tag",R.value)}S.stopPropagation(),Lt()},tn=S=>{S.stopPropagation();const R=n.multiple?[]:pe.value;if(n.multiple)for(const Q of h.selected)Q.isDisabled&&R.push(Q.value);u(hn,R),ft(R),h.hoveringIndex=-1,H.value=!1,u("clear"),Lt()},Ye=S=>{var R;if(n.multiple){const Q=Dt((R=n.modelValue)!=null?R:[]).slice(),ye=z(Q,S);ye>-1?Q.splice(ye,1):(n.multipleLimit<=0||Q.length<n.multipleLimit)&&Q.push(S.value),u(hn,Q),ft(Q),S.created&&Jt(""),n.filterable&&!n.reserveKeyword&&(h.inputValue="")}else!Gt(n.modelValue,S.value)&&u(hn,S.value),ft(S.value),H.value=!1;Lt(),!H.value&&yt(()=>{nt(S)})},z=(S,R)=>wr(R)?-1:bt(R.value)?S.findIndex(Q=>Gt(Ge(Q,n.valueKey),Qe(R))):S.indexOf(R.value),nt=S=>{var R,Q,ye,Be,je;const Ve=Ze(S)?S[0]:S;let ze=null;if(Ve?.value){const rt=ke.value.filter(Pn=>Pn.value===Ve.value);rt.length>0&&(ze=rt[0].$el)}if(I.value&&ze){const rt=(Be=(ye=(Q=(R=I.value)==null?void 0:R.popperRef)==null?void 0:Q.contentRef)==null?void 0:ye.querySelector)==null?void 0:Be.call(ye,`.${k.be("dropdown","wrap")}`);rt&&Ll(rt,ze)}(je=X.value)==null||je.handleScroll()},pt=S=>{h.options.set(S.value,S),h.cachedOptions.set(S.value,S)},nn=(S,R)=>{h.options.get(S)===R&&h.options.delete(S)},L=Y(()=>{var S,R;return(R=(S=I.value)==null?void 0:S.popperRef)==null?void 0:R.contentRef}),En=()=>{h.isBeforeHide=!1,yt(()=>{var S;(S=X.value)==null||S.update(),nt(h.selected)})},Lt=()=>{var S;(S=M.value)==null||S.focus()},Cn=()=>{var S;if(H.value){H.value=!1,yt(()=>{var R;return(R=M.value)==null?void 0:R.blur()});return}(S=M.value)==null||S.blur()},Zn=S=>{tn(S)},Tn=S=>{if(H.value=!1,jt.value){const R=new FocusEvent("blur",S);yt(()=>wn(R))}},Br=()=>{h.inputValue.length>0?h.inputValue="":H.value=!1},er=()=>{Le.value||(co&&(h.inputHovering=!0),h.menuVisibleOnFocus?h.menuVisibleOnFocus=!1:H.value=!H.value)},Tt=()=>{if(!H.value)er();else{const S=ke.value[h.hoveringIndex];S&&!S.isDisabled&&Ye(S)}},Qe=S=>bt(S.value)?Ge(S.value,n.valueKey):S.value,kn=Y(()=>ke.value.filter(S=>S.visible).every(S=>S.isDisabled)),rn=Y(()=>n.multiple?n.collapseTags?h.selected.slice(0,n.maxCollapseTags):h.selected:[]),de=Y(()=>n.multiple?n.collapseTags?h.selected.slice(n.maxCollapseTags):[]:[]),_e=S=>{if(!H.value){H.value=!0;return}if(!(h.options.size===0||ut.value===0||Rt.value)&&!kn.value){S==="next"?(h.hoveringIndex++,h.hoveringIndex===h.options.size&&(h.hoveringIndex=0)):S==="prev"&&(h.hoveringIndex--,h.hoveringIndex<0&&(h.hoveringIndex=h.options.size-1));const R=ke.value[h.hoveringIndex];(R.isDisabled||!R.visible)&&_e(S),yt(()=>nt(fe.value))}},jr=()=>{if(!D.value)return 0;const S=window.getComputedStyle(D.value);return Number.parseFloat(S.gap||"6px")},an=Y(()=>{const S=jr(),R=n.filterable?S+ai:0;return{maxWidth:`${ce.value&&n.maxCollapseTags===1?h.selectionWidth-h.collapseItemWidth-S-R:h.selectionWidth-R}px`}}),on=Y(()=>({maxWidth:`${h.selectionWidth}px`})),sn=S=>{u("popup-scroll",S)};Ut(D,Ft),Ut(Un,ct),Ut(ee,et),Ut(ce,Xn);let un;return Xe(()=>Yn.value,S=>{S?un=Ut(U,ct).stop:(un?.(),un=void 0)}),Pr(()=>{Et()}),{inputId:ne,contentId:_,nsSelect:k,nsInput:P,states:h,isFocused:jt,expanded:H,optionsArray:ke,hoverOption:fe,selectSize:ue,filteredOptionsCount:ut,updateTooltip:ct,updateTagTooltip:et,debouncedOnInputChange:Ct,onInput:Xt,deletePrevTag:dt,deleteTag:en,deleteSelected:tn,handleOptionSelect:Ye,scrollToOption:nt,hasModelValue:_n,shouldShowPlaceholder:lt,currentPlaceholder:Kr,mouseEnterEventName:Rr,needStatusIcon:st,showClearBtn:_t,iconComponent:qe,iconReverse:On,validateState:Sn,validateIcon:Ot,showNewOption:Hn,updateOptions:Mt,collapseTagSize:Nt,setSelected:Et,selectDisabled:Le,emptyText:St,handleCompositionStart:zn,handleCompositionUpdate:Wn,handleCompositionEnd:Bt,onOptionCreate:pt,onOptionDestroy:nn,handleMenuEnter:En,focus:Lt,blur:Cn,handleClearClick:Zn,handleClickOutside:Tn,handleEsc:Br,toggleMenu:er,selectOption:Tt,getValueKey:Qe,navigateOptions:_e,dropdownMenuVisible:Yn,showTagList:rn,collapseTagList:de,popupScroll:sn,getOption:Ne,tagStyle:an,collapseTagStyle:on,popperRef:L,inputRef:M,tooltipRef:I,tagTooltipRef:W,prefixRef:N,suffixRef:q,selectRef:A,wrapperRef:Un,selectionRef:D,scrollbarRef:X,menuRef:U,tagMenuRef:ee,collapseItemRef:ce}};var lc=Ht({name:"ElOptions",setup(n,{slots:u}){const f=He(Dr);let _=[];return()=>{var k,P;const h=(k=u.default)==null?void 0:k.call(u),A=[];function D(I){Ze(I)&&I.forEach(W=>{var M,N,q,U;const ee=(M=W?.type||{})==null?void 0:M.name;ee==="ElOptionGroup"?D(!Mi(W.children)&&!Ze(W.children)&&it((N=W.children)==null?void 0:N.default)?(q=W.children)==null?void 0:q.default():W.children):ee==="ElOption"?A.push((U=W.props)==null?void 0:U.value):Ze(W.children)&&D(W.children)})}return h.length&&D((P=h[0])==null?void 0:P.children),Gt(A,_)||(_=A,f&&(f.states.optionValues=A)),h}}});const cc=Ir({name:String,id:String,modelValue:{type:Je([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:xl,effect:{type:Je(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperStyle:{type:Je([String,Object])},popperOptions:{type:Je(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:{type:Je(Function)},filterMethod:{type:Je(Function)},multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:po.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:ho,default:cs},fitInputWidth:Boolean,suffixIcon:{type:ho,default:ls},tagType:{..._a.type,default:"info"},tagEffect:{..._a.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:Je(String),values:us,default:"bottom-start"},fallbackPlacements:{type:Je(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:po.appendTo,options:{type:Je(Array)},props:{type:Je(Object),default:()=>oi},...Ml,...ss(["ariaLabel"])});fs.scroll;const fc=Ht({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(n){const u=gn("select"),f=le(),_=Kt(),k=le([]);No(ii,yn({...Ca(n)}));const P=Y(()=>k.value.some(I=>I.visible===!0)),h=I=>{var W;return I.type.name==="ElOption"&&!!((W=I.component)!=null&&W.proxy)},A=I=>{const W=Dt(I),M=[];return W.forEach(N=>{var q;Ni(N)&&(h(N)?M.push(N.component.proxy):Ze(N.children)&&N.children.length?M.push(...A(N.children)):(q=N.component)!=null&&q.subTree&&M.push(...A(N.component.subTree)))}),M},D=()=>{k.value=A(_.subTree)};return Pr(()=>{D()}),ds(f,D,{attributes:!0,subtree:!0,childList:!0}),{groupRef:f,visible:P,ns:u}}});function dc(n,u,f,_,k,P){return Ln((ae(),we("ul",{ref:"groupRef",class:re(n.ns.be("group","wrap"))},[Ce("li",{class:re(n.ns.be("group","title"))},gt(n.label),3),Ce("li",null,[Ce("ul",{class:re(n.ns.b("group"))},[Ae(n.$slots,"default")],2)])],2)),[[Ea,n.visible]])}var xa=Vn(fc,[["render",dc],["__file","option-group.vue"]]);const Ko="ElSelect",pc=Ht({name:Ko,componentName:Ko,components:{ElSelectMenu:sc,ElOption:Ia,ElOptions:lc,ElOptionGroup:xa,ElTag:Ql,ElScrollbar:vs,ElTooltip:hs,ElIcon:va},directives:{ClickOutside:ps},props:cc,emits:[hn,ti,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(n,{emit:u,slots:f}){const _=Kt();_.appContext.config.warnHandler=(...X)=>{!X[0]||X[0].includes('Slot "default" invoked outside of the render function')||console.warn(...X)};const k=Y(()=>{const{modelValue:X,multiple:H}=n,fe=H?[]:void 0;return Ze(X)?H?X:fe:H?fe:X}),P=yn({...Ca(n),modelValue:k}),h=uc(P,u),{calculatorRef:A,inputStyle:D}=Xl(),{getLabel:I,getValue:W,getOptions:M,getDisabled:N}=Zl(n),q=X=>({label:I(X),value:W(X),disabled:N(X)}),U=X=>X.reduce((H,fe)=>(H.push(fe),fe.children&&fe.children.length>0&&H.push(...U(fe.children)),H),[]),ee=X=>{ys(X||[]).forEach(fe=>{var Ee;if(bt(fe)&&(fe.type.name==="ElOption"||fe.type.name==="ElTree")){const me=fe.type.name;if(me==="ElTree"){const ne=((Ee=fe.props)==null?void 0:Ee.data)||[];U(ne).forEach(Ie=>{Ie.currentLabel=Ie.label||(bt(Ie.value)?"":Ie.value),h.onOptionCreate(Ie)})}else if(me==="ElOption"){const ne={...fe.props};ne.currentLabel=ne.label||(bt(ne.value)?"":ne.value),h.onOptionCreate(ne)}}})};Xe(()=>{var X;return(X=f.default)==null?void 0:X.call(f)},X=>{n.persistent||ee(X)},{immediate:!0}),No(Dr,yn({props:P,states:h.states,selectRef:h.selectRef,optionsArray:h.optionsArray,setSelected:h.setSelected,handleOptionSelect:h.handleOptionSelect,onOptionCreate:h.onOptionCreate,onOptionDestroy:h.onOptionDestroy}));const ce=Y(()=>n.multiple?h.states.selected.map(X=>X.currentLabel):h.states.selectedLabel);return Mo(()=>{_.appContext.config.warnHandler=void 0}),{...h,modelValue:k,selectedLabel:ce,calculatorRef:A,inputStyle:D,getLabel:I,getValue:W,getOptions:M,getDisabled:N,getOptionProps:q}}});function hc(n,u){const f=It("el-tag"),_=It("el-tooltip"),k=It("el-icon"),P=It("el-option"),h=It("el-option-group"),A=It("el-options"),D=It("el-scrollbar"),I=It("el-select-menu"),W=Fi("click-outside");return Ln((ae(),we("div",{ref:"selectRef",class:re([n.nsSelect.b(),n.nsSelect.m(n.selectSize)]),[qi(n.mouseEnterEventName)]:M=>n.states.inputHovering=!0,onMouseleave:M=>n.states.inputHovering=!1},[mt(_,{ref:"tooltipRef",visible:n.dropdownMenuVisible,placement:n.placement,teleported:n.teleported,"popper-class":[n.nsSelect.e("popper"),n.popperClass],"popper-style":n.popperStyle,"popper-options":n.popperOptions,"fallback-placements":n.fallbackPlacements,effect:n.effect,pure:"",trigger:"click",transition:`${n.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:n.persistent,"append-to":n.appendTo,"show-arrow":n.showArrow,offset:n.offset,onBeforeShow:n.handleMenuEnter,onHide:M=>n.states.isBeforeHide=!1},{default:Pe(()=>{var M;return[Ce("div",{ref:"wrapperRef",class:re([n.nsSelect.e("wrapper"),n.nsSelect.is("focused",n.isFocused),n.nsSelect.is("hovering",n.states.inputHovering),n.nsSelect.is("filterable",n.filterable),n.nsSelect.is("disabled",n.selectDisabled)]),onClick:Ue(n.toggleMenu,["prevent"])},[n.$slots.prefix?(ae(),we("div",{key:0,ref:"prefixRef",class:re(n.nsSelect.e("prefix"))},[Ae(n.$slots,"prefix")],2)):Re("v-if",!0),Ce("div",{ref:"selectionRef",class:re([n.nsSelect.e("selection"),n.nsSelect.is("near",n.multiple&&!n.$slots.prefix&&!!n.states.selected.length)])},[n.multiple?Ae(n.$slots,"tag",{key:0,data:n.states.selected,deleteTag:n.deleteTag,selectDisabled:n.selectDisabled},()=>[(ae(!0),we(Nn,null,br(n.showTagList,N=>(ae(),we("div",{key:n.getValueKey(N),class:re(n.nsSelect.e("selected-item"))},[mt(f,{closable:!n.selectDisabled&&!N.isDisabled,size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,"disable-transitions":"",style:vn(n.tagStyle),onClose:q=>n.deleteTag(q,N)},{default:Pe(()=>[Ce("span",{class:re(n.nsSelect.e("tags-text"))},[Ae(n.$slots,"label",{index:N.index,label:N.currentLabel,value:N.value},()=>[so(gt(N.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),n.collapseTags&&n.states.selected.length>n.maxCollapseTags?(ae(),Fe(_,{key:0,ref:"tagTooltipRef",disabled:n.dropdownMenuVisible||!n.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:n.effect,placement:"bottom","popper-class":n.popperClass,"popper-style":n.popperStyle,teleported:n.teleported},{default:Pe(()=>[Ce("div",{ref:"collapseItemRef",class:re(n.nsSelect.e("selected-item"))},[mt(f,{closable:!1,size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,"disable-transitions":"",style:vn(n.collapseTagStyle)},{default:Pe(()=>[Ce("span",{class:re(n.nsSelect.e("tags-text"))}," + "+gt(n.states.selected.length-n.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:Pe(()=>[Ce("div",{ref:"tagMenuRef",class:re(n.nsSelect.e("selection"))},[(ae(!0),we(Nn,null,br(n.collapseTagList,N=>(ae(),we("div",{key:n.getValueKey(N),class:re(n.nsSelect.e("selected-item"))},[mt(f,{class:"in-tooltip",closable:!n.selectDisabled&&!N.isDisabled,size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,"disable-transitions":"",onClose:q=>n.deleteTag(q,N)},{default:Pe(()=>[Ce("span",{class:re(n.nsSelect.e("tags-text"))},[Ae(n.$slots,"label",{index:N.index,label:N.currentLabel,value:N.value},()=>[so(gt(N.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported"])):Re("v-if",!0)]):Re("v-if",!0),Ce("div",{class:re([n.nsSelect.e("selected-item"),n.nsSelect.e("input-wrapper"),n.nsSelect.is("hidden",!n.filterable)])},[Ln(Ce("input",{id:n.inputId,ref:"inputRef","onUpdate:modelValue":N=>n.states.inputValue=N,type:"text",name:n.name,class:re([n.nsSelect.e("input"),n.nsSelect.is(n.selectSize)]),disabled:n.selectDisabled,autocomplete:n.autocomplete,style:vn(n.inputStyle),tabindex:n.tabindex,role:"combobox",readonly:!n.filterable,spellcheck:"false","aria-activedescendant":((M=n.hoverOption)==null?void 0:M.id)||"","aria-controls":n.contentId,"aria-expanded":n.dropdownMenuVisible,"aria-label":n.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[Fn(Ue(N=>n.navigateOptions("next"),["stop","prevent"]),["down"]),Fn(Ue(N=>n.navigateOptions("prev"),["stop","prevent"]),["up"]),Fn(Ue(n.handleEsc,["stop","prevent"]),["esc"]),Fn(Ue(n.selectOption,["stop","prevent"]),["enter"]),Fn(Ue(n.deletePrevTag,["stop"]),["delete"])],onCompositionstart:n.handleCompositionStart,onCompositionupdate:n.handleCompositionUpdate,onCompositionend:n.handleCompositionEnd,onInput:n.onInput,onClick:Ue(n.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[$i,n.states.inputValue]]),n.filterable?(ae(),we("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:re(n.nsSelect.e("input-calculator")),textContent:gt(n.states.inputValue)},null,10,["textContent"])):Re("v-if",!0)],2),n.shouldShowPlaceholder?(ae(),we("div",{key:1,class:re([n.nsSelect.e("selected-item"),n.nsSelect.e("placeholder"),n.nsSelect.is("transparent",!n.hasModelValue||n.expanded&&!n.states.inputValue)])},[n.hasModelValue?Ae(n.$slots,"label",{key:0,index:n.getOption(n.modelValue).index,label:n.currentPlaceholder,value:n.modelValue},()=>[Ce("span",null,gt(n.currentPlaceholder),1)]):(ae(),we("span",{key:1},gt(n.currentPlaceholder),1))],2)):Re("v-if",!0)],2),Ce("div",{ref:"suffixRef",class:re(n.nsSelect.e("suffix"))},[n.iconComponent&&!n.showClearBtn?(ae(),Fe(k,{key:0,class:re([n.nsSelect.e("caret"),n.nsSelect.e("icon"),n.iconReverse])},{default:Pe(()=>[(ae(),Fe(la(n.iconComponent)))]),_:1},8,["class"])):Re("v-if",!0),n.showClearBtn&&n.clearIcon?(ae(),Fe(k,{key:1,class:re([n.nsSelect.e("caret"),n.nsSelect.e("icon"),n.nsSelect.e("clear")]),onClick:n.handleClearClick},{default:Pe(()=>[(ae(),Fe(la(n.clearIcon)))]),_:1},8,["class","onClick"])):Re("v-if",!0),n.validateState&&n.validateIcon&&n.needStatusIcon?(ae(),Fe(k,{key:2,class:re([n.nsInput.e("icon"),n.nsInput.e("validateIcon"),n.nsInput.is("loading",n.validateState==="validating")])},{default:Pe(()=>[(ae(),Fe(la(n.validateIcon)))]),_:1},8,["class"])):Re("v-if",!0)],2)],10,["onClick"])]}),content:Pe(()=>[mt(I,{ref:"menuRef"},{default:Pe(()=>[n.$slots.header?(ae(),we("div",{key:0,class:re(n.nsSelect.be("dropdown","header")),onClick:Ue(()=>{},["stop"])},[Ae(n.$slots,"header")],10,["onClick"])):Re("v-if",!0),Ln(mt(D,{id:n.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":n.nsSelect.be("dropdown","wrap"),"view-class":n.nsSelect.be("dropdown","list"),class:re([n.nsSelect.is("empty",n.filteredOptionsCount===0)]),role:"listbox","aria-label":n.ariaLabel,"aria-orientation":"vertical",onScroll:n.popupScroll},{default:Pe(()=>[n.showNewOption?(ae(),Fe(P,{key:0,value:n.states.inputValue,created:!0},null,8,["value"])):Re("v-if",!0),mt(A,null,{default:Pe(()=>[Ae(n.$slots,"default",{},()=>[(ae(!0),we(Nn,null,br(n.options,(M,N)=>{var q;return ae(),we(Nn,{key:N},[(q=n.getOptions(M))!=null&&q.length?(ae(),Fe(h,{key:0,label:n.getLabel(M),disabled:n.getDisabled(M)},{default:Pe(()=>[(ae(!0),we(Nn,null,br(n.getOptions(M),U=>(ae(),Fe(P,io({key:n.getValue(U)},n.getOptionProps(U)),null,16))),128))]),_:2},1032,["label","disabled"])):(ae(),Fe(P,Li(io({key:1},n.getOptionProps(M))),null,16))],64)}),128))])]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[Ea,n.states.options.size>0&&!n.loading]]),n.$slots.loading&&n.loading?(ae(),we("div",{key:1,class:re(n.nsSelect.be("dropdown","loading"))},[Ae(n.$slots,"loading")],2)):n.loading||n.filteredOptionsCount===0?(ae(),we("div",{key:2,class:re(n.nsSelect.be("dropdown","empty"))},[Ae(n.$slots,"empty",{},()=>[Ce("span",null,gt(n.emptyText),1)])],2)):Re("v-if",!0),n.$slots.footer?(ae(),we("div",{key:3,class:re(n.nsSelect.be("dropdown","footer")),onClick:Ue(()=>{},["stop"])},[Ae(n.$slots,"footer")],10,["onClick"])):Re("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[W,n.handleClickOutside,n.popperRef]])}var vc=Vn(pc,[["render",hc],["__file","select.vue"]]);const Ic=Wo(vc,{Option:Ia,OptionGroup:xa}),xc=Uo(Ia);Uo(xa);const Dc=yn(["全部","刀锋副武器","刀锋武器","刀锋皮肤","刀锋近战","双枪皮肤","名片","奶妈副武器","奶妈武器","奶妈皮肤","奶妈近战","导弹副武器","导弹武器","导弹皮肤","导弹近战","工程副武器","工程武器","工程皮肤","工程近战","机枪副武器","机枪武器","机枪皮肤","机枪近战","榴弹副武器","榴弹武器","榴弹皮肤","榴弹近战","火女副武器","火女武器","火女皮肤","火女近战","特效","狙击副武器","狙击武器","狙击皮肤","狙击近战","猴子副武器","猴子武器","猴子近战","礼包箱子","表情","道具宠物喷图等","饰品"]);var Sr={exports:{}},yc=Sr.exports,Ro;function mc(){return Ro||(Ro=1,(function(n,u){(function(f,_){n.exports=_()})(yc,function(){var f=function(e,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])})(e,t)},_=function(){return(_=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function k(e,t,r){for(var a,o=0,i=t.length;o<i;o++)!a&&o in t||((a=a||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))}var P=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Vi,h=Object.keys,A=Array.isArray;function D(e,t){return typeof t!="object"||h(t).forEach(function(r){e[r]=t[r]}),e}typeof Promise>"u"||P.Promise||(P.Promise=Promise);var I=Object.getPrototypeOf,W={}.hasOwnProperty;function M(e,t){return W.call(e,t)}function N(e,t){typeof t=="function"&&(t=t(I(e))),(typeof Reflect>"u"?h:Reflect.ownKeys)(t).forEach(function(r){U(e,r,t[r])})}var q=Object.defineProperty;function U(e,t,r,a){q(e,t,D(r&&M(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},a))}function ee(e){return{from:function(t){return e.prototype=Object.create(t.prototype),U(e.prototype,"constructor",e),{extend:N.bind(null,e.prototype)}}}}var ce=Object.getOwnPropertyDescriptor,X=[].slice;function H(e,t,r){return X.call(e,t,r)}function fe(e,t){return t(e)}function Ee(e){if(!e)throw new Error("Assertion Failed")}function me(e){P.setImmediate?setImmediate(e):setTimeout(e,0)}function ne(e,t){if(typeof t=="string"&&M(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var r=[],a=0,o=t.length;a<o;++a){var i=ne(e,t[a]);r.push(i)}return r}var s=t.indexOf(".");if(s!==-1){var l=e[t.substr(0,s)];return l==null?void 0:ne(l,t.substr(s+1))}}function pe(e,t,r){if(e&&t!==void 0&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Ee(typeof r!="string"&&"length"in r);for(var a=0,o=t.length;a<o;++a)pe(e,t[a],r[a])}else{var i,s,l=t.indexOf(".");l!==-1?(i=t.substr(0,l),(s=t.substr(l+1))===""?r===void 0?A(e)&&!isNaN(parseInt(i))?e.splice(i,1):delete e[i]:e[i]=r:pe(l=!(l=e[i])||!M(e,i)?e[i]={}:l,s,r)):r===void 0?A(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function Ie(e){var t,r={};for(t in e)M(e,t)&&(r[t]=e[t]);return r}var Rt=[].concat;function zn(e){return Rt.apply([],e)}var et="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(zn([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return P[e]}),Wn=new Set(et.map(function(e){return P[e]})),Bt=null;function Le(e){return Bt=new WeakMap,e=(function t(r){if(!r||typeof r!="object")return r;var a=Bt.get(r);if(a)return a;if(A(r)){a=[],Bt.set(r,a);for(var o=0,i=r.length;o<i;++o)a.push(t(r[o]))}else if(Wn.has(r.constructor))a=r;else{var s,l=I(r);for(s in a=l===Object.prototype?{}:Object.create(l),Bt.set(r,a),r)M(r,s)&&(a[s]=t(r[s]))}return a})(e),Bt=null,e}var Un={}.toString;function jt(e){return Un.call(e).slice(8,-1)}var wn=typeof Symbol<"u"?Symbol.iterator:"@@iterator",_n=typeof wn=="symbol"?function(e){var t;return e!=null&&(t=e[wn])&&t.apply(e)}:function(){return null};function st(e,t){return t=e.indexOf(t),0<=t&&e.splice(t,1),0<=t}var _t={};function qe(e){var t,r,a,o;if(arguments.length===1){if(A(e))return e.slice();if(this===_t&&typeof e=="string")return[e];if(o=_n(e)){for(r=[];!(a=o.next()).done;)r.push(a.value);return r}if(e==null)return[e];if(typeof(t=e.length)!="number")return[e];for(r=new Array(t);t--;)r[t]=e[t];return r}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}var On=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ct=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],We=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ct),Sn={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ot(e,t){this.name=e,this.message=t}function Gn(e,t){return e+". Errors: "+Object.keys(t).map(function(r){return t[r].toString()}).filter(function(r,a,o){return o.indexOf(r)===a}).join(`
`)}function Qt(e,t,r,a){this.failures=t,this.failedKeys=a,this.successCount=r,this.message=Gn(e,t)}function St(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(r){return t[r]}),this.failuresByPos=t,this.message=Gn(e,this.failures)}ee(Ot).from(Error).extend({toString:function(){return this.name+": "+this.message}}),ee(Qt).from(Ot),ee(St).from(Ot);var ut=We.reduce(function(e,t){return e[t]=t+"Error",e},{}),ke=Ot,G=We.reduce(function(e,t){var r=t+"Error";function a(o,i){this.name=r,o?typeof o=="string"?(this.message="".concat(o).concat(i?`
 `+i:""),this.inner=i||null):typeof o=="object"&&(this.message="".concat(o.name," ").concat(o.message),this.inner=o):(this.message=Sn[t]||r,this.inner=null)}return ee(a).from(ke),e[t]=a,e},{});G.Syntax=SyntaxError,G.Type=TypeError,G.Range=RangeError;var Hn=ct.reduce(function(e,t){return e[t+"Error"]=G[t],e},{}),Mt=We.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=G[t]),e},{});function ue(){}function Nt(e){return e}function Yn(e,t){return e==null||e===Nt?t:function(r){return t(e(r))}}function lt(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Kr(e,t){return e===ue?t:function(){var r=e.apply(this,arguments);r!==void 0&&(arguments[0]=r);var a=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?lt(a,this.onsuccess):a),o&&(this.onerror=this.onerror?lt(o,this.onerror):o),i!==void 0?i:r}}function Rr(e,t){return e===ue?t:function(){e.apply(this,arguments);var r=this.onsuccess,a=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?lt(r,this.onsuccess):r),a&&(this.onerror=this.onerror?lt(a,this.onerror):a)}}function Jt(e,t){return e===ue?t:function(r){var a=e.apply(this,arguments);D(r,a);var o=this.onsuccess,i=this.onerror;return this.onsuccess=null,this.onerror=null,r=t.apply(this,arguments),o&&(this.onsuccess=this.onsuccess?lt(o,this.onsuccess):o),i&&(this.onerror=this.onerror?lt(i,this.onerror):i),a===void 0?r===void 0?void 0:r:D(a,r)}}function Qn(e,t){return e===ue?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Et(e,t){return e===ue?t:function(){var r=e.apply(this,arguments);if(r&&typeof r.then=="function"){for(var a=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return r.then(function(){return t.apply(a,i)})}return t.apply(this,arguments)}}Mt.ModifyError=Qt,Mt.DexieError=Ot,Mt.BulkError=St;var Ne=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Jn(e){Ne=e}var Ft={},Xn=100,et=typeof Promise>"u"?[]:(function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,I(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,I(t),e]})(),ct=et[0],We=et[1],et=et[2],We=We&&We.then,tt=ct&&ct.constructor,Xt=!!et,Ct=function(e,t){nt.push([e,t]),Zt&&(queueMicrotask(er),Zt=!1)},ft=!0,Zt=!0,dt=[],en=[],tn=Nt,Ye={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ue,pgp:!1,env:{},finalize:ue},z=Ye,nt=[],pt=0,nn=[];function L(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=z;if(typeof e!="function"){if(e!==Ft)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Cn(this,this._value))}this._state=null,this._value=null,++t.ref,(function r(a,o){try{o(function(i){if(a._state===null){if(i===a)throw new TypeError("A promise cannot be resolved with itself.");var s=a._lib&&Tt();i&&typeof i.then=="function"?r(a,function(l,d){i instanceof L?i._then(l,d):i.then(l,d)}):(a._state=!0,a._value=i,Zn(a)),s&&Qe()}},Cn.bind(null,a))}catch(i){Cn(a,i)}})(this,e)}var En={get:function(){var e=z,t=sn;function r(a,o){var i=this,s=!e.global&&(e!==z||t!==sn),l=s&&!Q(),d=new L(function(v,m){Tn(i,new Lt(rt(a,e,s,l),rt(o,e,s,l),v,m,e))});return this._consoleTask&&(d._consoleTask=this._consoleTask),d}return r.prototype=Ft,r},set:function(e){U(this,"then",e&&e.prototype===Ft?En:{get:function(){return e},set:En.set})}};function Lt(e,t,r,a,o){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=r,this.reject=a,this.psd=o}function Cn(e,t){var r,a;en.push(t),e._state===null&&(r=e._lib&&Tt(),t=tn(t),e._state=!1,e._value=t,a=e,dt.some(function(o){return o._value===a._value})||dt.push(a),Zn(e),r&&Qe())}function Zn(e){var t=e._listeners;e._listeners=[];for(var r=0,a=t.length;r<a;++r)Tn(e,t[r]);var o=e._PSD;--o.ref||o.finalize(),pt===0&&(++pt,Ct(function(){--pt==0&&kn()},[]))}function Tn(e,t){if(e._state!==null){var r=e._state?t.onFulfilled:t.onRejected;if(r===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++pt,Ct(Br,[r,e,t])}else e._listeners.push(t)}function Br(e,t,r){try{var a,o=t._value;!t._state&&en.length&&(en=[]),a=Ne&&t._consoleTask?t._consoleTask.run(function(){return e(o)}):e(o),t._state||en.indexOf(o)!==-1||(function(i){for(var s=dt.length;s;)if(dt[--s]._value===i._value)return dt.splice(s,1)})(t),r.resolve(a)}catch(i){r.reject(i)}finally{--pt==0&&kn(),--r.psd.ref||r.psd.finalize()}}function er(){ze(Ye,function(){Tt()&&Qe()})}function Tt(){var e=ft;return Zt=ft=!1,e}function Qe(){var e,t,r;do for(;0<nt.length;)for(e=nt,nt=[],r=e.length,t=0;t<r;++t){var a=e[t];a[0].apply(null,a[1])}while(0<nt.length);Zt=ft=!0}function kn(){var e=dt;dt=[],e.forEach(function(a){a._PSD.onunhandled.call(null,a._value,a)});for(var t=nn.slice(0),r=t.length;r;)t[--r]()}function rn(e){return new L(Ft,!1,e)}function de(e,t){var r=z;return function(){var a=Tt(),o=z;try{return je(r,!0),e.apply(this,arguments)}catch(i){t&&t(i)}finally{je(o,!1),a&&Qe()}}}N(L.prototype,{then:En,_then:function(e,t){Tn(this,new Lt(null,null,e,t,z))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=e,r=arguments[1];return typeof t=="function"?this.then(null,function(a){return(a instanceof t?r:rn)(a)}):this.then(null,function(a){return(a&&a.name===t?r:rn)(a)})},finally:function(e){return this.then(function(t){return L.resolve(e()).then(function(){return t})},function(t){return L.resolve(e()).then(function(){return rn(t)})})},timeout:function(e,t){var r=this;return e<1/0?new L(function(a,o){var i=setTimeout(function(){return o(new G.Timeout(t))},e);r.then(a,o).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&U(L.prototype,Symbol.toStringTag,"Dexie.Promise"),Ye.env=Ve(),N(L,{all:function(){var e=qe.apply(null,arguments).map(ye);return new L(function(t,r){e.length===0&&t([]);var a=e.length;e.forEach(function(o,i){return L.resolve(o).then(function(s){e[i]=s,--a||t(e)},r)})})},resolve:function(e){return e instanceof L?e:e&&typeof e.then=="function"?new L(function(t,r){e.then(t,r)}):new L(Ft,!0,e)},reject:rn,race:function(){var e=qe.apply(null,arguments).map(ye);return new L(function(t,r){e.map(function(a){return L.resolve(a).then(t,r)})})},PSD:{get:function(){return z},set:function(e){return z=e}},totalEchoes:{get:function(){return sn}},newPSD:S,usePSD:ze,scheduler:{get:function(){return Ct},set:function(e){Ct=e}},rejectionMapper:{get:function(){return tn},set:function(e){tn=e}},follow:function(e,t){return new L(function(r,a){return S(function(o,i){var s=z;s.unhandleds=[],s.onunhandled=i,s.finalize=lt(function(){var l,d=this;l=function(){d.unhandleds.length===0?o():i(d.unhandleds[0])},nn.push(function v(){l(),nn.splice(nn.indexOf(v),1)}),++pt,Ct(function(){--pt==0&&kn()},[])},s.finalize),e()},t,r,a)})}}),tt&&(tt.allSettled&&U(L,"allSettled",function(){var e=qe.apply(null,arguments).map(ye);return new L(function(t){e.length===0&&t([]);var r=e.length,a=new Array(r);e.forEach(function(o,i){return L.resolve(o).then(function(s){return a[i]={status:"fulfilled",value:s}},function(s){return a[i]={status:"rejected",reason:s}}).then(function(){return--r||t(a)})})})}),tt.any&&typeof AggregateError<"u"&&U(L,"any",function(){var e=qe.apply(null,arguments).map(ye);return new L(function(t,r){e.length===0&&r(new AggregateError([]));var a=e.length,o=new Array(a);e.forEach(function(i,s){return L.resolve(i).then(function(l){return t(l)},function(l){o[s]=l,--a||r(new AggregateError(o))})})})}),tt.withResolvers&&(L.withResolvers=tt.withResolvers));var _e={awaits:0,echoes:0,id:0},jr=0,an=[],on=0,sn=0,un=0;function S(e,t,r,a){var o=z,i=Object.create(o);return i.parent=o,i.ref=0,i.global=!1,i.id=++un,Ye.env,i.env=Xt?{Promise:L,PromiseProp:{value:L,configurable:!0,writable:!0},all:L.all,race:L.race,allSettled:L.allSettled,any:L.any,resolve:L.resolve,reject:L.reject}:{},t&&D(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()},a=ze(i,e,r,a),i.ref===0&&i.finalize(),a}function R(){return _e.id||(_e.id=++jr),++_e.awaits,_e.echoes+=Xn,_e.id}function Q(){return!!_e.awaits&&(--_e.awaits==0&&(_e.id=0),_e.echoes=_e.awaits*Xn,!0)}function ye(e){return _e.echoes&&e&&e.constructor===tt?(R(),e.then(function(t){return Q(),t},function(t){return Q(),Oe(t)})):e}function Be(){var e=an[an.length-1];an.pop(),je(e,!1)}function je(e,t){var r,a=z;(t?!_e.echoes||on++&&e===z:!on||--on&&e===z)||queueMicrotask(t?(function(o){++sn,_e.echoes&&--_e.echoes!=0||(_e.echoes=_e.awaits=_e.id=0),an.push(z),je(o,!0)}).bind(null,e):Be),e!==z&&(z=e,a===Ye&&(Ye.env=Ve()),Xt&&(r=Ye.env.Promise,t=e.env,(a.global||e.global)&&(Object.defineProperty(P,"Promise",t.PromiseProp),r.all=t.all,r.race=t.race,r.resolve=t.resolve,r.reject=t.reject,t.allSettled&&(r.allSettled=t.allSettled),t.any&&(r.any=t.any))))}function Ve(){var e=P.Promise;return Xt?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(P,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function ze(e,t,r,a,o){var i=z;try{return je(e,!0),t(r,a,o)}finally{je(i,!1)}}function rt(e,t,r,a){return typeof e!="function"?e:function(){var o=z;r&&R(),je(t,!0);try{return e.apply(this,arguments)}finally{je(o,!1),a&&queueMicrotask(Q)}}}function Pn(e){Promise===tt&&_e.echoes===0?on===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}(""+We).indexOf("[native code]")===-1&&(R=Q=ue);var Oe=L.reject,$t="￿",ht="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Da="String expected.",ln=[],tr="__dbnames",Mr="readonly",Nr="readwrite";function qt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Ka={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function nr(e){return typeof e!="string"||/\./.test(e)?function(t){return t}:function(t){return t[e]===void 0&&e in t&&delete(t=Le(t))[e],t}}function Ra(){throw G.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function oe(e,t){try{var r=Ba(e),a=Ba(t);if(r!==a)return r==="Array"?1:a==="Array"?-1:r==="binary"?1:a==="binary"?-1:r==="string"?1:a==="string"?-1:r==="Date"?1:a!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return(function(o,i){for(var s=o.length,l=i.length,d=s<l?s:l,v=0;v<d;++v)if(o[v]!==i[v])return o[v]<i[v]?-1:1;return s===l?0:s<l?-1:1})(ja(e),ja(t));case"Array":return(function(o,i){for(var s=o.length,l=i.length,d=s<l?s:l,v=0;v<d;++v){var m=oe(o[v],i[v]);if(m!==0)return m}return s===l?0:s<l?-1:1})(e,t)}}catch{}return NaN}function Ba(e){var t=typeof e;return t!="object"?t:ArrayBuffer.isView(e)?"binary":(e=jt(e),e==="ArrayBuffer"?"binary":e)}function ja(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}function rr(e,t,r){var a=e.schema.yProps;return a?(t&&0<r.numFailures&&(t=t.filter(function(o,i){return!r.failures[i]})),Promise.all(a.map(function(o){return o=o.updatesTable,t?e.db.table(o).where("k").anyOf(t).delete():e.db.table(o).clear()})).then(function(){return r})):r}var Ma=(he.prototype._trans=function(e,t,r){var a=this._tx||z.trans,o=this.name,i=Ne&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(e==="readonly"?"read":"write"," ").concat(this.name));function s(v,m,c){if(!c.schema[o])throw new G.NotFound("Table "+o+" not part of transaction");return t(c.idbtrans,c)}var l=Tt();try{var d=a&&a.db._novip===this.db._novip?a===z.trans?a._promise(e,s,r):S(function(){return a._promise(e,s,r)},{trans:a,transless:z.transless||z}):(function v(m,c,w,p){if(m.idbdb&&(m._state.openComplete||z.letThrough||m._vip)){var y=m._createTransaction(c,w,m._dbSchema);try{y.create(),m._state.PR1398_maxLoop=3}catch(b){return b.name===ut.InvalidState&&m.isOpen()&&0<--m._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),m.close({disableAutoOpen:!1}),m.open().then(function(){return v(m,c,w,p)})):Oe(b)}return y._promise(c,function(b,g){return S(function(){return z.trans=y,p(b,g,y)})}).then(function(b){if(c==="readwrite")try{y.idbtrans.commit()}catch{}return c==="readonly"?b:y._completion.then(function(){return b})})}if(m._state.openComplete)return Oe(new G.DatabaseClosed(m._state.dbOpenError));if(!m._state.isBeingOpened){if(!m._state.autoOpen)return Oe(new G.DatabaseClosed);m.open().catch(ue)}return m._state.dbReadyPromise.then(function(){return v(m,c,w,p)})})(this.db,e,[this.name],s);return i&&(d._consoleTask=i,d=d.catch(function(v){return console.trace(v),Oe(v)})),d}finally{l&&Qe()}},he.prototype.get=function(e,t){var r=this;return e&&e.constructor===Object?this.where(e).first(t):e==null?Oe(new G.Type("Invalid argument to Table.get()")):this._trans("readonly",function(a){return r.core.get({trans:a,key:e}).then(function(o){return r.hook.reading.fire(o)})}).then(t)},he.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(A(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=h(e);if(t.length===1)return this.where(t[0]).equals(e[t[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(l){if(l.compound&&t.every(function(v){return 0<=l.keyPath.indexOf(v)})){for(var d=0;d<t.length;++d)if(t.indexOf(l.keyPath[d])===-1)return!1;return!0}return!1}).sort(function(l,d){return l.keyPath.length-d.keyPath.length})[0];if(r&&this.db._maxKey!==$t){var i=r.keyPath.slice(0,t.length);return this.where(i).equals(i.map(function(d){return e[d]}))}!r&&Ne&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var a=this.schema.idxByName;function o(l,d){return oe(l,d)===0}var s=t.reduce(function(c,d){var v=c[0],m=c[1],c=a[d],w=e[d];return[v||c,v||!c?qt(m,c&&c.multi?function(p){return p=ne(p,d),A(p)&&p.some(function(y){return o(w,y)})}:function(p){return o(w,ne(p,d))}):m]},[null,null]),i=s[0],s=s[1];return i?this.where(i.name).equals(e[i.keyPath]).filter(s):r?this.filter(s):this.where(t).equals("")},he.prototype.filter=function(e){return this.toCollection().and(e)},he.prototype.count=function(e){return this.toCollection().count(e)},he.prototype.offset=function(e){return this.toCollection().offset(e)},he.prototype.limit=function(e){return this.toCollection().limit(e)},he.prototype.each=function(e){return this.toCollection().each(e)},he.prototype.toArray=function(e){return this.toCollection().toArray(e)},he.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},he.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,A(e)?"[".concat(e.join("+"),"]"):e))},he.prototype.reverse=function(){return this.toCollection().reverse()},he.prototype.mapToClass=function(e){var t,r=this.db,a=this.name;function o(){return t!==null&&t.apply(this,arguments)||this}(this.schema.mappedClass=e).prototype instanceof Ra&&((function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=d}f(d,v),d.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)})(o,t=e),Object.defineProperty(o.prototype,"db",{get:function(){return r},enumerable:!1,configurable:!0}),o.prototype.table=function(){return a},e=o);for(var i=new Set,s=e.prototype;s;s=I(s))Object.getOwnPropertyNames(s).forEach(function(d){return i.add(d)});function l(d){if(!d)return d;var v,m=Object.create(e.prototype);for(v in d)if(!i.has(v))try{m[v]=d[v]}catch{}return m}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=l,this.hook("reading",l),e},he.prototype.defineClass=function(){return this.mapToClass(function(e){D(this,e)})},he.prototype.add=function(e,t){var r=this,a=this.schema.primKey,o=a.auto,i=a.keyPath,s=e;return i&&o&&(s=nr(i)(e)),this._trans("readwrite",function(l){return r.core.mutate({trans:l,type:"add",keys:t!=null?[t]:null,values:[s]})}).then(function(l){return l.numFailures?L.reject(l.failures[0]):l.lastResult}).then(function(l){if(i)try{pe(e,i,l)}catch{}return l})},he.prototype.update=function(e,t){return typeof e!="object"||A(e)?this.where(":id").equals(e).modify(t):(e=ne(e,this.schema.primKey.keyPath),e===void 0?Oe(new G.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t))},he.prototype.put=function(e,t){var r=this,a=this.schema.primKey,o=a.auto,i=a.keyPath,s=e;return i&&o&&(s=nr(i)(e)),this._trans("readwrite",function(l){return r.core.mutate({trans:l,type:"put",values:[s],keys:t!=null?[t]:null})}).then(function(l){return l.numFailures?L.reject(l.failures[0]):l.lastResult}).then(function(l){if(i)try{pe(e,i,l)}catch{}return l})},he.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(r){return t.core.mutate({trans:r,type:"delete",keys:[e]}).then(function(a){return rr(t,[e],a)}).then(function(a){return a.numFailures?L.reject(a.failures[0]):void 0})})},he.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:Ka}).then(function(r){return rr(e,null,r)})}).then(function(t){return t.numFailures?L.reject(t.failures[0]):void 0})},he.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(r){return t.core.getMany({keys:e,trans:r}).then(function(a){return a.map(function(o){return t.hook.reading.fire(o)})})})},he.prototype.bulkAdd=function(e,t,r){var a=this,o=Array.isArray(t)?t:void 0,i=(r=r||(o?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",function(s){var v=a.schema.primKey,l=v.auto,v=v.keyPath;if(v&&o)throw new G.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");var d=e.length,v=v&&l?e.map(nr(v)):e;return a.core.mutate({trans:s,type:"add",keys:o,values:v,wantResults:i}).then(function(y){var c=y.numFailures,w=y.results,p=y.lastResult,y=y.failures;if(c===0)return i?w:p;throw new St("".concat(a.name,".bulkAdd(): ").concat(c," of ").concat(d," operations failed"),y)})})},he.prototype.bulkPut=function(e,t,r){var a=this,o=Array.isArray(t)?t:void 0,i=(r=r||(o?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",function(s){var v=a.schema.primKey,l=v.auto,v=v.keyPath;if(v&&o)throw new G.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");var d=e.length,v=v&&l?e.map(nr(v)):e;return a.core.mutate({trans:s,type:"put",keys:o,values:v,wantResults:i}).then(function(y){var c=y.numFailures,w=y.results,p=y.lastResult,y=y.failures;if(c===0)return i?w:p;throw new St("".concat(a.name,".bulkPut(): ").concat(c," of ").concat(d," operations failed"),y)})})},he.prototype.bulkUpdate=function(e){var t=this,r=this.core,a=e.map(function(s){return s.key}),o=e.map(function(s){return s.changes}),i=[];return this._trans("readwrite",function(s){return r.getMany({trans:s,keys:a,cache:"clone"}).then(function(l){var d=[],v=[];e.forEach(function(c,w){var p=c.key,y=c.changes,b=l[w];if(b){for(var g=0,O=Object.keys(y);g<O.length;g++){var E=O[g],C=y[E];if(E===t.schema.primKey.keyPath){if(oe(C,p)!==0)throw new G.Constraint("Cannot update primary key in bulkUpdate()")}else pe(b,E,C)}i.push(w),d.push(p),v.push(b)}});var m=d.length;return r.mutate({trans:s,type:"put",keys:d,values:v,updates:{keys:a,changeSpecs:o}}).then(function(c){var w=c.numFailures,p=c.failures;if(w===0)return m;for(var y=0,b=Object.keys(p);y<b.length;y++){var g,O=b[y],E=i[Number(O)];E!=null&&(g=p[O],delete p[O],p[E]=g)}throw new St("".concat(t.name,".bulkUpdate(): ").concat(w," of ").concat(m," operations failed"),p)})})})},he.prototype.bulkDelete=function(e){var t=this,r=e.length;return this._trans("readwrite",function(a){return t.core.mutate({trans:a,type:"delete",keys:e}).then(function(o){return rr(t,e,o)})}).then(function(s){var o=s.numFailures,i=s.lastResult,s=s.failures;if(o===0)return i;throw new St("".concat(t.name,".bulkDelete(): ").concat(o," of ").concat(r," operations failed"),s)})},he);function he(){}function An(e){function t(s,l){if(l){for(var d=arguments.length,v=new Array(d-1);--d;)v[d-1]=arguments[d];return r[s].subscribe.apply(null,v),e}if(typeof s=="string")return r[s]}var r={};t.addEventType=i;for(var a=1,o=arguments.length;a<o;++a)i(arguments[a]);return t;function i(s,l,d){if(typeof s!="object"){var v;l=l||Qn;var m={subscribers:[],fire:d=d||ue,subscribe:function(c){m.subscribers.indexOf(c)===-1&&(m.subscribers.push(c),m.fire=l(m.fire,c))},unsubscribe:function(c){m.subscribers=m.subscribers.filter(function(w){return w!==c}),m.fire=m.subscribers.reduce(l,d)}};return r[s]=t[s]=m}h(v=s).forEach(function(c){var w=v[c];if(A(w))i(c,v[c][0],v[c][1]);else{if(w!=="asap")throw new G.InvalidArgument("Invalid event config");var p=i(c,Nt,function(){for(var y=arguments.length,b=new Array(y);y--;)b[y]=arguments[y];p.subscribers.forEach(function(g){me(function(){g.apply(null,b)})})})}})}}function In(e,t){return ee(t).from({prototype:e}),t}function cn(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Fr(e,t){e.filter=qt(e.filter,t)}function Lr(e,t,r){var a=e.replayFilter;e.replayFilter=a?function(){return qt(a(),t())}:t,e.justLimit=r&&!a}function ar(e,t){if(e.isPrimKey)return t.primaryKey;var r=t.getIndexByKeyPath(e.index);if(!r)throw new G.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function Na(e,t,r){var a=ar(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:a,range:e.range}})}function or(e,t,r,a){var o=e.replayFilter?qt(e.filter,e.replayFilter()):e.filter;if(e.or){var i={},s=function(l,d,v){var m,c;o&&!o(d,v,function(w){return d.stop(w)},function(w){return d.fail(w)})||((c=""+(m=d.primaryKey))=="[object ArrayBuffer]"&&(c=""+new Uint8Array(m)),M(i,c)||(i[c]=!0,t(l,d,v)))};return Promise.all([e.or._iterate(s,r),Fa(Na(e,a,r),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}return Fa(Na(e,a,r),qt(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function Fa(e,t,r,a){var o=de(a?function(i,s,l){return r(a(i),s,l)}:r);return e.then(function(i){if(i)return i.start(function(){var s=function(){return i.continue()};t&&!t(i,function(l){return s=l},function(l){i.stop(l),s=ue},function(l){i.fail(l),s=ue})||o(i.value,i,function(l){return s=l}),s()})})}var xn=(La.prototype.execute=function(e){var t=this["@@propmod"];if(t.add!==void 0){var r=t.add;if(A(r))return k(k([],A(e)?e:[],!0),r).sort();if(typeof r=="number")return(Number(e)||0)+r;if(typeof r=="bigint")try{return BigInt(e)+r}catch{return BigInt(0)+r}throw new TypeError("Invalid term ".concat(r))}if(t.remove!==void 0){var a=t.remove;if(A(a))return A(e)?e.filter(function(o){return!a.includes(o)}).sort():[];if(typeof a=="number")return Number(e)-a;if(typeof a=="bigint")try{return BigInt(e)-a}catch{return BigInt(0)-a}throw new TypeError("Invalid subtrahend ".concat(a))}return r=(r=t.replacePrefix)===null||r===void 0?void 0:r[0],r&&typeof e=="string"&&e.startsWith(r)?t.replacePrefix[1]+e.substring(r.length):e},La);function La(e){this["@@propmod"]=e}var li=(se.prototype._read=function(e,t){var r=this._ctx;return r.error?r.table._trans(null,Oe.bind(null,r.error)):r.table._trans("readonly",e).then(t)},se.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Oe.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},se.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=qt(t.algorithm,e)},se.prototype._iterate=function(e,t){return or(this._ctx,e,t,this._ctx.table.core)},se.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&D(r,e),t._ctx=r,t},se.prototype.raw=function(){return this._ctx.valueMapper=null,this},se.prototype.each=function(e){var t=this._ctx;return this._read(function(r){return or(t,e,r,t.table.core)})},se.prototype.count=function(e){var t=this;return this._read(function(r){var a=t._ctx,o=a.table.core;if(cn(a,!0))return o.count({trans:r,query:{index:ar(a,o.schema),range:a.range}}).then(function(s){return Math.min(s,a.limit)});var i=0;return or(a,function(){return++i,!1},r,o).then(function(){return i})}).then(e)},se.prototype.sortBy=function(e,t){var r=e.split(".").reverse(),a=r[0],o=r.length-1;function i(d,v){return v?i(d[r[v]],v-1):d[a]}var s=this._ctx.dir==="next"?1:-1;function l(d,v){return oe(i(d,o),i(v,o))*s}return this.toArray(function(d){return d.sort(l)}).then(t)},se.prototype.toArray=function(e){var t=this;return this._read(function(r){var a=t._ctx;if(a.dir==="next"&&cn(a,!0)&&0<a.limit){var o=a.valueMapper,i=ar(a,a.table.core.schema);return a.table.core.query({trans:r,limit:a.limit,values:!0,query:{index:i,range:a.range}}).then(function(l){return l=l.result,o?l.map(o):l})}var s=[];return or(a,function(l){return s.push(l)},r,a.table.core).then(function(){return s})},e)},se.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,cn(t)?Lr(t,function(){var r=e;return function(a,o){return r===0||(r===1?--r:o(function(){a.advance(r),r=0}),!1)}}):Lr(t,function(){var r=e;return function(){return--r<0}})),this},se.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Lr(this._ctx,function(){var t=e;return function(r,a,o){return--t<=0&&a(o),0<=t}},!0),this},se.prototype.until=function(e,t){return Fr(this._ctx,function(r,a,o){return!e(r.value)||(a(o),t)}),this},se.prototype.first=function(e){return this.limit(1).toArray(function(t){return t[0]}).then(e)},se.prototype.last=function(e){return this.reverse().first(e)},se.prototype.filter=function(e){var t;return Fr(this._ctx,function(r){return e(r.value)}),(t=this._ctx).isMatch=qt(t.isMatch,e),this},se.prototype.and=function(e){return this.filter(e)},se.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},se.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},se.prototype.desc=function(){return this.reverse()},se.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(r,a){e(a.key,a)})},se.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},se.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(r,a){e(a.primaryKey,a)})},se.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each(function(a,o){r.push(o.key)}).then(function(){return r}).then(e)},se.prototype.primaryKeys=function(e){var t=this._ctx;if(t.dir==="next"&&cn(t,!0)&&0<t.limit)return this._read(function(a){var o=ar(t,t.table.core.schema);return t.table.core.query({trans:a,values:!1,limit:t.limit,query:{index:o,range:t.range}})}).then(function(a){return a.result}).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each(function(a,o){r.push(o.primaryKey)}).then(function(){return r}).then(e)},se.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},se.prototype.firstKey=function(e){return this.limit(1).keys(function(t){return t[0]}).then(e)},se.prototype.lastKey=function(e){return this.reverse().firstKey(e)},se.prototype.distinct=function(){var e=this._ctx,e=e.index&&e.table.schema.idxByName[e.index];if(!e||!e.multi)return this;var t={};return Fr(this._ctx,function(o){var a=o.primaryKey.toString(),o=M(t,a);return t[a]=!0,!o}),this},se.prototype.modify=function(e){var t=this,r=this._ctx;return this._write(function(a){var o,i,s;s=typeof e=="function"?e:(o=h(e),i=o.length,function(O){for(var E=!1,C=0;C<i;++C){var T=o[C],x=e[T],j=ne(O,T);x instanceof xn?(pe(O,T,x.execute(j)),E=!0):j!==x&&(pe(O,T,x),E=!0)}return E});var l=r.table.core,c=l.schema.primaryKey,d=c.outbound,v=c.extractKey,m=200,c=t.db._options.modifyChunkSize;c&&(m=typeof c=="object"?c[l.name]||c["*"]||200:c);function w(O,T){var C=T.failures,T=T.numFailures;y+=O-T;for(var x=0,j=h(C);x<j.length;x++){var K=j[x];p.push(C[K])}}var p=[],y=0,b=[],g=e===$a;return t.clone().primaryKeys().then(function(O){function E(T){var x=Math.min(m,O.length-T),j=O.slice(T,T+x);return(g?Promise.resolve([]):l.getMany({trans:a,keys:j,cache:"immutable"})).then(function(K){var B=[],$=[],F=d?[]:null,V=g?j:[];if(!g)for(var te=0;te<x;++te){var ie=K[te],Z={value:Le(ie),primKey:O[T+te]};s.call(Z,Z.value,Z)!==!1&&(Z.value==null?V.push(O[T+te]):d||oe(v(ie),v(Z.value))===0?($.push(Z.value),d&&F.push(O[T+te])):(V.push(O[T+te]),B.push(Z.value)))}return Promise.resolve(0<B.length&&l.mutate({trans:a,type:"add",values:B}).then(function(be){for(var J in be.failures)V.splice(parseInt(J),1);w(B.length,be)})).then(function(){return(0<$.length||C&&typeof e=="object")&&l.mutate({trans:a,type:"put",keys:F,values:$,criteria:C,changeSpec:typeof e!="function"&&e,isAdditionalChunk:0<T}).then(function(be){return w($.length,be)})}).then(function(){return(0<V.length||C&&g)&&l.mutate({trans:a,type:"delete",keys:V,criteria:C,isAdditionalChunk:0<T}).then(function(be){return rr(r.table,V,be)}).then(function(be){return w(V.length,be)})}).then(function(){return O.length>T+x&&E(T+m)})})}var C=cn(r)&&r.limit===1/0&&(typeof e!="function"||g)&&{index:r.index,range:r.range};return E(0).then(function(){if(0<p.length)throw new Qt("Error modifying one or more objects",p,y,b);return O.length})})})},se.prototype.delete=function(){var e=this._ctx,t=e.range;return!cn(e)||e.table.schema.yProps||!e.isPrimKey&&t.type!==3?this.modify($a):this._write(function(r){var a=e.table.core.schema.primaryKey,o=t;return e.table.core.count({trans:r,query:{index:a,range:o}}).then(function(i){return e.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(function(d){var l=d.failures,d=d.numFailures;if(d)throw new Qt("Could not delete some values",Object.keys(l).map(function(v){return l[v]}),i-d);return i-d})})})},se);function se(){}var $a=function(e,t){return t.value=null};function ci(e,t){return e<t?-1:e===t?0:1}function fi(e,t){return t<e?-1:e===t?0:1}function $e(e,t,r){return e=e instanceof Va?new e.Collection(e):e,e._ctx.error=new(r||TypeError)(t),e}function fn(e){return new e.Collection(e,function(){return qa("")}).limit(0)}function ir(e,t,r,a){var o,i,s,l,d,v,m,c=r.length;if(!r.every(function(y){return typeof y=="string"}))return $e(e,Da);function w(y){o=y==="next"?function(g){return g.toUpperCase()}:function(g){return g.toLowerCase()},i=y==="next"?function(g){return g.toLowerCase()}:function(g){return g.toUpperCase()},s=y==="next"?ci:fi;var b=r.map(function(g){return{lower:i(g),upper:o(g)}}).sort(function(g,O){return s(g.lower,O.lower)});l=b.map(function(g){return g.upper}),d=b.map(function(g){return g.lower}),m=(v=y)==="next"?"":a}w("next"),e=new e.Collection(e,function(){return kt(l[0],d[c-1]+a)}),e._ondirectionchange=function(y){w(y)};var p=0;return e._addAlgorithm(function(y,b,g){var O=y.key;if(typeof O!="string")return!1;var E=i(O);if(t(E,d,p))return!0;for(var C=null,T=p;T<c;++T){var x=(function(j,K,B,$,F,V){for(var te=Math.min(j.length,$.length),ie=-1,Z=0;Z<te;++Z){var be=K[Z];if(be!==$[Z])return F(j[Z],B[Z])<0?j.substr(0,Z)+B[Z]+B.substr(Z+1):F(j[Z],$[Z])<0?j.substr(0,Z)+$[Z]+B.substr(Z+1):0<=ie?j.substr(0,ie)+K[ie]+B.substr(ie+1):null;F(j[Z],be)<0&&(ie=Z)}return te<$.length&&V==="next"?j+B.substr(j.length):te<j.length&&V==="prev"?j.substr(0,B.length):ie<0?null:j.substr(0,ie)+$[ie]+B.substr(ie+1)})(O,E,l[T],d[T],s,v);x===null&&C===null?p=T+1:(C===null||0<s(C,x))&&(C=x)}return b(C!==null?function(){y.continue(C+m)}:g),!1}),e}function kt(e,t,r,a){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:a}}function qa(e){return{type:1,lower:e,upper:e}}var Va=(Object.defineProperty(Te.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Te.prototype.between=function(e,t,r,a){r=r!==!1,a=a===!0;try{return 0<this._cmp(e,t)||this._cmp(e,t)===0&&(r||a)&&(!r||!a)?fn(this):new this.Collection(this,function(){return kt(e,t,!r,!a)})}catch{return $e(this,ht)}},Te.prototype.equals=function(e){return e==null?$e(this,ht):new this.Collection(this,function(){return qa(e)})},Te.prototype.above=function(e){return e==null?$e(this,ht):new this.Collection(this,function(){return kt(e,void 0,!0)})},Te.prototype.aboveOrEqual=function(e){return e==null?$e(this,ht):new this.Collection(this,function(){return kt(e,void 0,!1)})},Te.prototype.below=function(e){return e==null?$e(this,ht):new this.Collection(this,function(){return kt(void 0,e,!1,!0)})},Te.prototype.belowOrEqual=function(e){return e==null?$e(this,ht):new this.Collection(this,function(){return kt(void 0,e)})},Te.prototype.startsWith=function(e){return typeof e!="string"?$e(this,Da):this.between(e,e+$t,!0,!0)},Te.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):ir(this,function(t,r){return t.indexOf(r[0])===0},[e],$t)},Te.prototype.equalsIgnoreCase=function(e){return ir(this,function(t,r){return t===r[0]},[e],"")},Te.prototype.anyOfIgnoreCase=function(){var e=qe.apply(_t,arguments);return e.length===0?fn(this):ir(this,function(t,r){return r.indexOf(t)!==-1},e,"")},Te.prototype.startsWithAnyOfIgnoreCase=function(){var e=qe.apply(_t,arguments);return e.length===0?fn(this):ir(this,function(t,r){return r.some(function(a){return t.indexOf(a)===0})},e,$t)},Te.prototype.anyOf=function(){var e=this,t=qe.apply(_t,arguments),r=this._cmp;try{t.sort(r)}catch{return $e(this,ht)}if(t.length===0)return fn(this);var a=new this.Collection(this,function(){return kt(t[0],t[t.length-1])});a._ondirectionchange=function(i){r=i==="next"?e._ascending:e._descending,t.sort(r)};var o=0;return a._addAlgorithm(function(i,s,l){for(var d=i.key;0<r(d,t[o]);)if(++o===t.length)return s(l),!1;return r(d,t[o])===0||(s(function(){i.continue(t[o])}),!1)}),a},Te.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Te.prototype.noneOf=function(){var e=qe.apply(_t,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return $e(this,ht)}var t=e.reduce(function(r,a){return r?r.concat([[r[r.length-1][1],a]]):[[-1/0,a]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},Te.prototype.inAnyRange=function(O,t){var r=this,a=this._cmp,o=this._ascending,i=this._descending,s=this._min,l=this._max;if(O.length===0)return fn(this);if(!O.every(function(E){return E[0]!==void 0&&E[1]!==void 0&&o(E[0],E[1])<=0}))return $e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",G.InvalidArgument);var d=!t||t.includeLowers!==!1,v=t&&t.includeUppers===!0,m,c=o;function w(E,C){return c(E[0],C[0])}try{(m=O.reduce(function(E,C){for(var T=0,x=E.length;T<x;++T){var j=E[T];if(a(C[0],j[1])<0&&0<a(C[1],j[0])){j[0]=s(j[0],C[0]),j[1]=l(j[1],C[1]);break}}return T===x&&E.push(C),E},[])).sort(w)}catch{return $e(this,ht)}var p=0,y=v?function(E){return 0<o(E,m[p][1])}:function(E){return 0<=o(E,m[p][1])},b=d?function(E){return 0<i(E,m[p][0])}:function(E){return 0<=i(E,m[p][0])},g=y,O=new this.Collection(this,function(){return kt(m[0][0],m[m.length-1][1],!d,!v)});return O._ondirectionchange=function(E){c=E==="next"?(g=y,o):(g=b,i),m.sort(w)},O._addAlgorithm(function(E,C,T){for(var x,j=E.key;g(j);)if(++p===m.length)return C(T),!1;return!y(x=j)&&!b(x)||(r._cmp(j,m[p][1])===0||r._cmp(j,m[p][0])===0||C(function(){c===o?E.continue(m[p][0]):E.continue(m[p][1])}),!1)}),O},Te.prototype.startsWithAnyOf=function(){var e=qe.apply(_t,arguments);return e.every(function(t){return typeof t=="string"})?e.length===0?fn(this):this.inAnyRange(e.map(function(t){return[t,t+$t]})):$e(this,"startsWithAnyOf() only works with strings")},Te);function Te(){}function at(e){return de(function(t){return Dn(t),e(t.target.error),!1})}function Dn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Kn="storagemutated",$r="x-storagemutated-1",Pt=An(null,Kn),di=(ot.prototype._lock=function(){return Ee(!z.global),++this._reculock,this._reculock!==1||z.global||(z.lockOwnerFor=this),this},ot.prototype._unlock=function(){if(Ee(!z.global),--this._reculock==0)for(z.global||(z.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{ze(e[1],e[0])}catch{}}return this},ot.prototype._locked=function(){return this._reculock&&z.lockOwnerFor!==this},ot.prototype.create=function(e){var t=this;if(!this.mode)return this;var r=this.db.idbdb,a=this.db._state.dbOpenError;if(Ee(!this.idbtrans),!e&&!r)switch(a&&a.name){case"DatabaseClosedError":throw new G.DatabaseClosed(a);case"MissingAPIError":throw new G.MissingAPI(a.message,a);default:throw new G.OpenFailed(a)}if(!this.active)throw new G.TransactionInactive;return Ee(this._completion._state===null),(e=this.idbtrans=e||(this.db.core||r).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=de(function(o){Dn(o),t._reject(e.error)}),e.onabort=de(function(o){Dn(o),t.active&&t._reject(new G.Abort(e.error)),t.active=!1,t.on("abort").fire(o)}),e.oncomplete=de(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&Pt.storagemutated.fire(e.mutatedParts)}),this},ot.prototype._promise=function(e,t,r){var a=this;if(e==="readwrite"&&this.mode!=="readwrite")return Oe(new G.ReadOnly("Transaction is readonly"));if(!this.active)return Oe(new G.TransactionInactive);if(this._locked())return new L(function(i,s){a._blockedFuncs.push([function(){a._promise(e,t,r).then(i,s)},z])});if(r)return S(function(){var i=new L(function(s,l){a._lock();var d=t(s,l,a);d&&d.then&&d.then(s,l)});return i.finally(function(){return a._unlock()}),i._lib=!0,i});var o=new L(function(i,s){var l=t(i,s,a);l&&l.then&&l.then(i,s)});return o._lib=!0,o},ot.prototype._root=function(){return this.parent?this.parent._root():this},ot.prototype.waitFor=function(e){var t,r=this._root(),a=L.resolve(e);r._waitingFor?r._waitingFor=r._waitingFor.then(function(){return a}):(r._waitingFor=a,r._waitingQueue=[],t=r.idbtrans.objectStore(r.storeNames[0]),(function i(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(t.get(-1/0).onsuccess=i)})());var o=r._waitingFor;return new L(function(i,s){a.then(function(l){return r._waitingQueue.push(de(i.bind(null,l)))},function(l){return r._waitingQueue.push(de(s.bind(null,l)))}).finally(function(){r._waitingFor===o&&(r._waitingFor=null)})})},ot.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new G.Abort))},ot.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(M(t,e))return t[e];var r=this.schema[e];if(!r)throw new G.NotFound("Table "+e+" not part of transaction");return r=new this.db.Table(e,r,this),r.core=this.db.core.table(e),t[e]=r},ot);function ot(){}function qr(e,t,r,a,o,i,s,l){return{name:e,keyPath:t,unique:r,multi:a,auto:o,compound:i,src:(r&&!s?"&":"")+(a?"*":"")+(o?"++":"")+za(t),type:l}}function za(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Vr(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:(a=function(o){return[o.name,o]},r.reduce(function(o,i,s){return s=a(i,s),s&&(o[s[0]]=s[1]),o},{}))};var a}var Rn=function(e){try{return e.only([[]]),Rn=function(){return[[]]},[[]]}catch{return Rn=function(){return $t},$t}};function zr(e){return e==null?function(){}:typeof e=="string"?(t=e).split(".").length===1?function(r){return r[t]}:function(r){return ne(r,t)}:function(r){return ne(r,e)};var t}function Wa(e){return[].slice.call(e)}var pi=0;function Bn(e){return e==null?":id":typeof e=="string"?e:"[".concat(e.join("+"),"]")}function hi(e,t,d){function a(g){if(g.type===3)return null;if(g.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var p=g.lower,y=g.upper,b=g.lowerOpen,g=g.upperOpen;return p===void 0?y===void 0?null:t.upperBound(y,!!g):y===void 0?t.lowerBound(p,!!b):t.bound(p,y,!!b,!!g)}function o(w){var p,y=w.name;return{name:y,schema:w,mutate:function(b){var g=b.trans,O=b.type,E=b.keys,C=b.values,T=b.range;return new Promise(function(x,j){x=de(x);var K=g.objectStore(y),B=K.keyPath==null,$=O==="put"||O==="add";if(!$&&O!=="delete"&&O!=="deleteRange")throw new Error("Invalid operation type: "+O);var F,V=(E||C||{length:1}).length;if(E&&C&&E.length!==C.length)throw new Error("Given keys array must have same length as given values array.");if(V===0)return x({numFailures:0,failures:{},results:[],lastResult:void 0});function te(Me){++be,Dn(Me)}var ie=[],Z=[],be=0;if(O==="deleteRange"){if(T.type===4)return x({numFailures:be,failures:Z,results:[],lastResult:void 0});T.type===3?ie.push(F=K.clear()):ie.push(F=K.delete(a(T)))}else{var B=$?B?[C,E]:[C,null]:[E,null],J=B[0],De=B[1];if($)for(var Ke=0;Ke<V;++Ke)ie.push(F=De&&De[Ke]!==void 0?K[O](J[Ke],De[Ke]):K[O](J[Ke])),F.onerror=te;else for(Ke=0;Ke<V;++Ke)ie.push(F=K[O](J[Ke])),F.onerror=te}function gr(Me){Me=Me.target.result,ie.forEach(function(Wt,ua){return Wt.error!=null&&(Z[ua]=Wt.error)}),x({numFailures:be,failures:Z,results:O==="delete"?E:ie.map(function(Wt){return Wt.result}),lastResult:Me})}F.onerror=function(Me){te(Me),gr(Me)},F.onsuccess=gr})},getMany:function(b){var g=b.trans,O=b.keys;return new Promise(function(E,C){E=de(E);for(var T,x=g.objectStore(y),j=O.length,K=new Array(j),B=0,$=0,F=function(ie){ie=ie.target,K[ie._pos]=ie.result,++$===B&&E(K)},V=at(C),te=0;te<j;++te)O[te]!=null&&((T=x.get(O[te]))._pos=te,T.onsuccess=F,T.onerror=V,++B);B===0&&E(K)})},get:function(b){var g=b.trans,O=b.key;return new Promise(function(E,C){E=de(E);var T=g.objectStore(y).get(O);T.onsuccess=function(x){return E(x.target.result)},T.onerror=at(C)})},query:(p=v,function(b){return new Promise(function(g,O){g=de(g);var E,C,T,B=b.trans,x=b.values,j=b.limit,F=b.query,K=j===1/0?void 0:j,$=F.index,F=F.range,B=B.objectStore(y),$=$.isPrimaryKey?B:B.index($.name),F=a(F);if(j===0)return g({result:[]});p?((K=x?$.getAll(F,K):$.getAllKeys(F,K)).onsuccess=function(V){return g({result:V.target.result})},K.onerror=at(O)):(E=0,C=!x&&"openKeyCursor"in $?$.openKeyCursor(F):$.openCursor(F),T=[],C.onsuccess=function(V){var te=C.result;return te?(T.push(x?te.value:te.primaryKey),++E===j?g({result:T}):void te.continue()):g({result:T})},C.onerror=at(O))})}),openCursor:function(b){var g=b.trans,O=b.values,E=b.query,C=b.reverse,T=b.unique;return new Promise(function(x,j){x=de(x);var $=E.index,K=E.range,B=g.objectStore(y),B=$.isPrimaryKey?B:B.index($.name),$=C?T?"prevunique":"prev":T?"nextunique":"next",F=!O&&"openKeyCursor"in B?B.openKeyCursor(a(K),$):B.openCursor(a(K),$);F.onerror=at(j),F.onsuccess=de(function(V){var te,ie,Z,be,J=F.result;J?(J.___id=++pi,J.done=!1,te=J.continue.bind(J),ie=(ie=J.continuePrimaryKey)&&ie.bind(J),Z=J.advance.bind(J),be=function(){throw new Error("Cursor not stopped")},J.trans=g,J.stop=J.continue=J.continuePrimaryKey=J.advance=function(){throw new Error("Cursor not started")},J.fail=de(j),J.next=function(){var De=this,Ke=1;return this.start(function(){return Ke--?De.continue():De.stop()}).then(function(){return De})},J.start=function(De){function Ke(){if(F.result)try{De()}catch(Me){J.fail(Me)}else J.done=!0,J.start=function(){throw new Error("Cursor behind last entry")},J.stop()}var gr=new Promise(function(Me,Wt){Me=de(Me),F.onerror=at(Wt),J.fail=Wt,J.stop=function(ua){J.stop=J.continue=J.continuePrimaryKey=J.advance=be,Me(ua)}});return F.onsuccess=de(function(Me){F.onsuccess=Ke,Ke()}),J.continue=te,J.continuePrimaryKey=ie,J.advance=Z,Ke(),gr},x(J)):x(null)},j)})},count:function(b){var g=b.query,O=b.trans,E=g.index,C=g.range;return new Promise(function(T,x){var j=O.objectStore(y),K=E.isPrimaryKey?j:j.index(E.name),j=a(C),K=j?K.count(j):K.count();K.onsuccess=de(function(B){return T(B.target.result)}),K.onerror=at(x)})}}}var i,s,l,m=(s=d,l=Wa((i=e).objectStoreNames),{schema:{name:i.name,tables:l.map(function(w){return s.objectStore(w)}).map(function(w){var p=w.keyPath,g=w.autoIncrement,y=A(p),b={},g={name:w.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:p==null,compound:y,keyPath:p,autoIncrement:g,unique:!0,extractKey:zr(p)},indexes:Wa(w.indexNames).map(function(O){return w.index(O)}).map(function(T){var E=T.name,C=T.unique,x=T.multiEntry,T=T.keyPath,x={name:E,compound:A(T),keyPath:T,unique:C,multiEntry:x,extractKey:zr(T)};return b[Bn(T)]=x}),getIndexByKeyPath:function(O){return b[Bn(O)]}};return b[":id"]=g.primaryKey,p!=null&&(b[Bn(p)]=g.primaryKey),g})},hasGetAll:0<l.length&&"getAll"in s.objectStore(l[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),d=m.schema,v=m.hasGetAll,m=d.tables.map(o),c={};return m.forEach(function(w){return c[w.name]=w}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(w){if(!c[w])throw new Error("Table '".concat(w,"' not found"));return c[w]},MIN_KEY:-1/0,MAX_KEY:Rn(t),schema:d}}function vi(e,t,r,a){var o=r.IDBKeyRange;return r.indexedDB,{dbcore:(a=hi(t,o,a),e.dbcore.reduce(function(i,s){return s=s.create,_(_({},i),s(i))},a))}}function sr(e,a){var r=a.db,a=vi(e._middlewares,r,e._deps,a);e.core=a.dbcore,e.tables.forEach(function(o){var i=o.name;e.core.schema.tables.some(function(s){return s.name===i})&&(o.core=e.core.table(i),e[i]instanceof e.Table&&(e[i].core=o.core))})}function ur(e,t,r,a){r.forEach(function(o){var i=a[o];t.forEach(function(s){var l=(function d(v,m){return ce(v,m)||(v=I(v))&&d(v,m)})(s,o);(!l||"value"in l&&l.value===void 0)&&(s===e.Transaction.prototype||s instanceof e.Transaction?U(s,o,{get:function(){return this.table(o)},set:function(d){q(this,o,{value:d,writable:!0,configurable:!0,enumerable:!0})}}):s[o]=new e.Table(o,i))})})}function Wr(e,t){t.forEach(function(r){for(var a in r)r[a]instanceof e.Table&&delete r[a]})}function yi(e,t){return e._cfg.version-t._cfg.version}function mi(e,t,r,a){var o=e._dbSchema;r.objectStoreNames.contains("$meta")&&!o.$meta&&(o.$meta=Vr("$meta",Ga("")[0],[]),e._storeNames.push("$meta"));var i=e._createTransaction("readwrite",e._storeNames,o);i.create(r),i._completion.catch(a);var s=i._reject.bind(i),l=z.transless||z;S(function(){return z.trans=i,z.transless=l,t!==0?(sr(e,r),v=t,((d=i).storeNames.includes("$meta")?d.table("$meta").get("version").then(function(m){return m??v}):L.resolve(v)).then(function(m){return w=m,p=i,y=r,b=[],m=(c=e)._versions,g=c._dbSchema=cr(0,c.idbdb,y),(m=m.filter(function(O){return O._cfg.version>=w})).length!==0?(m.forEach(function(O){b.push(function(){var E=g,C=O._cfg.dbschema;fr(c,E,y),fr(c,C,y),g=c._dbSchema=C;var T=Ur(E,C);T.add.forEach(function($){Gr(y,$[0],$[1].primKey,$[1].indexes)}),T.change.forEach(function($){if($.recreate)throw new G.Upgrade("Not yet support for changing primary key");var F=y.objectStore($.name);$.add.forEach(function(V){return lr(F,V)}),$.change.forEach(function(V){F.deleteIndex(V.name),lr(F,V)}),$.del.forEach(function(V){return F.deleteIndex(V)})});var x=O._cfg.contentUpgrade;if(x&&O._cfg.version>w){sr(c,y),p._memoizedTables={};var j=Ie(C);T.del.forEach(function($){j[$]=E[$]}),Wr(c,[c.Transaction.prototype]),ur(c,[c.Transaction.prototype],h(j),j),p.schema=j;var K,B=On(x);return B&&R(),T=L.follow(function(){var $;(K=x(p))&&B&&($=Q.bind(null,null),K.then($,$))}),K&&typeof K.then=="function"?L.resolve(K):T.then(function(){return K})}}),b.push(function(E){var C,T,x=O._cfg.dbschema;C=x,T=E,[].slice.call(T.db.objectStoreNames).forEach(function(j){return C[j]==null&&T.db.deleteObjectStore(j)}),Wr(c,[c.Transaction.prototype]),ur(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),p.schema=c._dbSchema}),b.push(function(E){c.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(c.idbdb.version/10)===O._cfg.version?(c.idbdb.deleteObjectStore("$meta"),delete c._dbSchema.$meta,c._storeNames=c._storeNames.filter(function(C){return C!=="$meta"})):E.objectStore("$meta").put(O._cfg.version,"version"))})}),(function O(){return b.length?L.resolve(b.shift()(p.idbtrans)).then(O):L.resolve()})().then(function(){Ua(g,y)})):L.resolve();var c,w,p,y,b,g}).catch(s)):(h(o).forEach(function(m){Gr(r,m,o[m].primKey,o[m].indexes)}),sr(e,r),void L.follow(function(){return e.on.populate.fire(i)}).catch(s));var d,v})}function gi(e,t){Ua(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var r=cr(0,e.idbdb,t);fr(e,e._dbSchema,t);for(var a=0,o=Ur(r,e._dbSchema).change;a<o.length;a++){var i=(function(s){if(s.change.length||s.recreate)return console.warn("Unable to patch indexes of table ".concat(s.name," because it has changes on the type of index or primary key.")),{value:void 0};var l=t.objectStore(s.name);s.add.forEach(function(d){Ne&&console.debug("Dexie upgrade patch: Creating missing index ".concat(s.name,".").concat(d.src)),lr(l,d)})})(o[a]);if(typeof i=="object")return i.value}}function Ur(e,t){var r,a={del:[],add:[],change:[]};for(r in e)t[r]||a.del.push(r);for(r in t){var o=e[r],i=t[r];if(o){var s={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto)s.recreate=!0,a.change.push(s);else{var l=o.idxByName,d=i.idxByName,v=void 0;for(v in l)d[v]||s.del.push(v);for(v in d){var m=l[v],c=d[v];m?m.src!==c.src&&s.change.push(c):s.add.push(c)}(0<s.del.length||0<s.add.length||0<s.change.length)&&a.change.push(s)}}else a.add.push([r,i])}return a}function Gr(e,t,r,a){var o=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return a.forEach(function(i){return lr(o,i)}),o}function Ua(e,t){h(e).forEach(function(r){t.db.objectStoreNames.contains(r)||(Ne&&console.debug("Dexie: Creating missing table",r),Gr(t,r,e[r].primKey,e[r].indexes))})}function lr(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function cr(e,t,r){var a={};return H(t.objectStoreNames,0).forEach(function(o){for(var i=r.objectStore(o),s=qr(za(v=i.keyPath),v||"",!0,!1,!!i.autoIncrement,v&&typeof v!="string",!0),l=[],d=0;d<i.indexNames.length;++d){var m=i.index(i.indexNames[d]),v=m.keyPath,m=qr(m.name,v,!!m.unique,!!m.multiEntry,!1,v&&typeof v!="string",!1);l.push(m)}a[o]=Vr(o,s,l)}),a}function fr(e,t,r){for(var a=r.db.objectStoreNames,o=0;o<a.length;++o){var i=a[o],s=r.objectStore(i);e._hasGetAll="getAll"in s;for(var l=0;l<s.indexNames.length;++l){var d=s.indexNames[l],v=s.index(d).keyPath,m=typeof v=="string"?v:"["+H(v).join("+")+"]";!t[i]||(v=t[i].idxByName[m])&&(v.name=d,delete t[i].idxByName[m],t[i].idxByName[d]=v)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&P.WorkerGlobalScope&&P instanceof P.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function Ga(e){return e.split(",").map(function(t,r){var i=t.split(":"),a=(o=i[1])===null||o===void 0?void 0:o.trim(),o=(t=i[0].trim()).replace(/([&*]|\+\+)/g,""),i=/^\[/.test(o)?o.match(/^\[(.*)\]$/)[1].split("+"):o;return qr(o,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),A(i),r===0,a)})}var bi=(dn.prototype._createTableSchema=Vr,dn.prototype._parseIndexSyntax=Ga,dn.prototype._parseStoresSpec=function(e,t){var r=this;h(e).forEach(function(a){if(e[a]!==null){var o=r._parseIndexSyntax(e[a]),i=o.shift();if(!i)throw new G.Schema("Invalid schema for table "+a+": "+e[a]);if(i.unique=!0,i.multi)throw new G.Schema("Primary key cannot be multiEntry*");o.forEach(function(s){if(s.auto)throw new G.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new G.Schema("Index must have a name and cannot be an empty string")}),o=r._createTableSchema(a,i,o),t[a]=o}})},dn.prototype.stores=function(r){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?D(this._cfg.storesSource,r):r;var r=t._versions,a={},o={};return r.forEach(function(i){D(a,i._cfg.storesSource),o=i._cfg.dbschema={},i._parseStoresSpec(a,o)}),t._dbSchema=o,Wr(t,[t._allTables,t,t.Transaction.prototype]),ur(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],h(o),o),t._storeNames=h(o),this},dn.prototype.upgrade=function(e){return this._cfg.contentUpgrade=Et(this._cfg.contentUpgrade||ue,e),this},dn);function dn(){}function Hr(e,t){var r=e._dbNamesDB;return r||(r=e._dbNamesDB=new vt(tr,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),r.table("dbnames")}function Yr(e){return e&&typeof e.databases=="function"}function Qr(e){return S(function(){return z.letThrough=!0,e()})}function Jr(e){return!("from"in e)}var xe=function(e,t){if(!this){var r=new xe;return e&&"d"in e&&D(r,e),r}D(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function jn(e,t,r){var a=oe(t,r);if(!isNaN(a)){if(0<a)throw RangeError();if(Jr(e))return D(e,{from:t,to:r,d:1});var o=e.l,a=e.r;if(oe(r,e.from)<0)return o?jn(o,t,r):e.l={from:t,to:r,d:1,l:null,r:null},Ya(e);if(0<oe(t,e.to))return a?jn(a,t,r):e.r={from:t,to:r,d:1,l:null,r:null},Ya(e);oe(t,e.from)<0&&(e.from=t,e.l=null,e.d=a?a.d+1:1),0<oe(r,e.to)&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1),r=!e.r,o&&!e.l&&Mn(e,o),a&&r&&Mn(e,a)}}function Mn(e,t){Jr(t)||(function r(a,d){var i=d.from,s=d.to,l=d.l,d=d.r;jn(a,i,s),l&&r(a,l),d&&r(a,d)})(e,t)}function Ha(e,t){var r=dr(t),a=r.next();if(a.done)return!1;for(var o=a.value,i=dr(e),s=i.next(o.from),l=s.value;!a.done&&!s.done;){if(oe(l.from,o.to)<=0&&0<=oe(l.to,o.from))return!0;oe(o.from,l.from)<0?o=(a=r.next(l.from)).value:l=(s=i.next(o.from)).value}return!1}function dr(e){var t=Jr(e)?null:{s:0,n:e};return{next:function(r){for(var a=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,a)for(;t.n.l&&oe(r,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!a||oe(r,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Ya(e){var t,r,a=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((r=e.l)===null||r===void 0?void 0:r.d)||0),o=1<a?"r":a<-1?"l":"";o&&(t=o=="r"?"l":"r",r=_({},e),a=e[o],e.from=a.from,e.to=a.to,e[o]=a[o],r[o]=a[t],(e[t]=r).d=Qa(r)),e.d=Qa(e)}function Qa(r){var t=r.r,r=r.l;return(t?r?Math.max(t.d,r.d):t.d:r?r.d:0)+1}function pr(e,t){return h(t).forEach(function(r){e[r]?Mn(e[r],t[r]):e[r]=(function a(o){var i,s,l={};for(i in o)M(o,i)&&(s=o[i],l[i]=!s||typeof s!="object"||Wn.has(s.constructor)?s:a(s));return l})(t[r])}),e}function Xr(e,t){return e.all||t.all||Object.keys(e).some(function(r){return t[r]&&Ha(t[r],e[r])})}N(xe.prototype,((We={add:function(e){return Mn(this,e),this},addKey:function(e){return jn(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(r){return jn(t,r,r)}),this},hasKey:function(e){var t=dr(this).next(e).value;return t&&oe(t.from,e)<=0&&0<=oe(t.to,e)}})[wn]=function(){return dr(this)},We));var Vt={},Zr={},ea=!1;function hr(e){pr(Zr,e),ea||(ea=!0,setTimeout(function(){ea=!1,ta(Zr,!(Zr={}))},0))}function ta(e,t){t===void 0&&(t=!1);var r=new Set;if(e.all)for(var a=0,o=Object.values(Vt);a<o.length;a++)Ja(s=o[a],e,r,t);else for(var i in e){var s,l=/^idb\:\/\/(.*)\/(.*)\//.exec(i);l&&(i=l[1],l=l[2],(s=Vt["idb://".concat(i,"/").concat(l)])&&Ja(s,e,r,t))}r.forEach(function(d){return d()})}function Ja(e,t,r,a){for(var o=[],i=0,s=Object.entries(e.queries.query);i<s.length;i++){for(var l=s[i],d=l[0],v=[],m=0,c=l[1];m<c.length;m++){var w=c[m];Xr(t,w.obsSet)?w.subscribers.forEach(function(g){return r.add(g)}):a&&v.push(w)}a&&o.push([d,v])}if(a)for(var p=0,y=o;p<y.length;p++){var b=y[p],d=b[0],v=b[1];e.queries.query[d]=v}}function wi(e){var t=e._state,r=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?Oe(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var a=t.openCanceller,o=Math.round(10*e.verno),i=!1;function s(){if(t.openCanceller!==a)throw new G.DatabaseClosed("db.open() was cancelled")}function l(){return new L(function(w,p){if(s(),!r)throw new G.MissingAPI;var y=e.name,b=t.autoSchema||!o?r.open(y):r.open(y,o);if(!b)throw new G.MissingAPI;b.onerror=at(p),b.onblocked=de(e._fireOnBlocked),b.onupgradeneeded=de(function(g){var O;m=b.transaction,t.autoSchema&&!e._options.allowEmptyDB?(b.onerror=Dn,m.abort(),b.result.close(),(O=r.deleteDatabase(y)).onsuccess=O.onerror=de(function(){p(new G.NoSuchDatabase("Database ".concat(y," doesnt exist")))})):(m.onerror=at(p),g=g.oldVersion>Math.pow(2,62)?0:g.oldVersion,c=g<1,e.idbdb=b.result,i&&gi(e,m),mi(e,g/10,m,p))},p),b.onsuccess=de(function(){m=null;var g,O,E,C,T,x=e.idbdb=b.result,j=H(x.objectStoreNames);if(0<j.length)try{var K=x.transaction((C=j).length===1?C[0]:C,"readonly");if(t.autoSchema)O=x,E=K,(g=e).verno=O.version/10,E=g._dbSchema=cr(0,O,E),g._storeNames=H(O.objectStoreNames,0),ur(g,[g._allTables],h(E),E);else if(fr(e,e._dbSchema,K),((T=Ur(cr(0,(T=e).idbdb,K),T._dbSchema)).add.length||T.change.some(function(B){return B.add.length||B.change.length}))&&!i)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),x.close(),o=x.version+1,i=!0,w(l());sr(e,K)}catch{}ln.push(e),x.onversionchange=de(function(B){t.vcFired=!0,e.on("versionchange").fire(B)}),x.onclose=de(function(B){e.on("close").fire(B)}),c&&(T=e._deps,K=y,x=T.indexedDB,T=T.IDBKeyRange,Yr(x)||K===tr||Hr(x,T).put({name:K}).catch(ue)),w()},p)}).catch(function(w){switch(w?.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),l();break;case"VersionError":if(0<o)return o=0,l()}return L.reject(w)})}var d,v=t.dbReadyResolve,m=null,c=!1;return L.race([a,(typeof navigator>"u"?L.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(w){function p(){return indexedDB.databases().finally(w)}d=setInterval(p,100),p()}).finally(function(){return clearInterval(d)}):Promise.resolve()).then(l)]).then(function(){return s(),t.onReadyBeingFired=[],L.resolve(Qr(function(){return e.on.ready.fire(e.vip)})).then(function w(){if(0<t.onReadyBeingFired.length){var p=t.onReadyBeingFired.reduce(Et,ue);return t.onReadyBeingFired=[],L.resolve(Qr(function(){return p(e.vip)})).then(w)}})}).finally(function(){t.openCanceller===a&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(w){t.dbOpenError=w;try{m&&m.abort()}catch{}return a===t.openCanceller&&e._close(),Oe(w)}).finally(function(){t.openComplete=!0,v()}).then(function(){var w;return c&&(w={},e.tables.forEach(function(p){p.schema.indexes.forEach(function(y){y.name&&(w["idb://".concat(e.name,"/").concat(p.name,"/").concat(y.name)]=new xe(-1/0,[[[]]]))}),w["idb://".concat(e.name,"/").concat(p.name,"/")]=w["idb://".concat(e.name,"/").concat(p.name,"/:dels")]=new xe(-1/0,[[[]]])}),Pt(Kn).fire(w),ta(w,!0)),e})}function na(e){function t(i){return e.next(i)}var r=o(t),a=o(function(i){return e.throw(i)});function o(i){return function(d){var l=i(d),d=l.value;return l.done?d:d&&typeof d.then=="function"?d.then(r,a):A(d)?Promise.all(d).then(r,a):r(d)}}return o(t)()}function vr(e,t,r){for(var a=A(e)?e.slice():[e],o=0;o<r;++o)a.push(t);return a}var _i={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return _(_({},e),{table:function(t){var r=e.table(t),a=r.schema,o={},i=[];function s(c,w,p){var y=Bn(c),b=o[y]=o[y]||[],g=c==null?0:typeof c=="string"?1:c.length,O=0<w,O=_(_({},p),{name:O?"".concat(y,"(virtual-from:").concat(p.name,")"):p.name,lowLevelIndex:p,isVirtual:O,keyTail:w,keyLength:g,extractKey:zr(c),unique:!O&&p.unique});return b.push(O),O.isPrimaryKey||i.push(O),1<g&&s(g===2?c[0]:c.slice(0,g-1),w+1,p),b.sort(function(E,C){return E.keyTail-C.keyTail}),O}t=s(a.primaryKey.keyPath,0,a.primaryKey),o[":id"]=[t];for(var l=0,d=a.indexes;l<d.length;l++){var v=d[l];s(v.keyPath,0,v)}function m(c){var w,p=c.query.index;return p.isVirtual?_(_({},c),{query:{index:p.lowLevelIndex,range:(w=c.query.range,p=p.keyTail,{type:w.type===1?2:w.type,lower:vr(w.lower,w.lowerOpen?e.MAX_KEY:e.MIN_KEY,p),lowerOpen:!0,upper:vr(w.upper,w.upperOpen?e.MIN_KEY:e.MAX_KEY,p),upperOpen:!0})}}):c}return _(_({},r),{schema:_(_({},a),{primaryKey:t,indexes:i,getIndexByKeyPath:function(c){return(c=o[Bn(c)])&&c[0]}}),count:function(c){return r.count(m(c))},query:function(c){return r.query(m(c))},openCursor:function(c){var w=c.query.index,p=w.keyTail,y=w.isVirtual,b=w.keyLength;return y?r.openCursor(m(c)).then(function(O){return O&&g(O)}):r.openCursor(c);function g(O){return Object.create(O,{continue:{value:function(E){E!=null?O.continue(vr(E,c.reverse?e.MAX_KEY:e.MIN_KEY,p)):c.unique?O.continue(O.key.slice(0,b).concat(c.reverse?e.MIN_KEY:e.MAX_KEY,p)):O.continue()}},continuePrimaryKey:{value:function(E,C){O.continuePrimaryKey(vr(E,e.MAX_KEY,p),C)}},primaryKey:{get:function(){return O.primaryKey}},key:{get:function(){var E=O.key;return b===1?E[0]:E.slice(0,b)}},value:{get:function(){return O.value}}})}}})}})}};function ra(e,t,r,a){return r=r||{},a=a||"",h(e).forEach(function(o){var i,s,l;M(t,o)?(i=e[o],s=t[o],typeof i=="object"&&typeof s=="object"&&i&&s?(l=jt(i))!==jt(s)?r[a+o]=t[o]:l==="Object"?ra(i,s,r,a+o+"."):i!==s&&(r[a+o]=t[o]):i!==s&&(r[a+o]=t[o])):r[a+o]=void 0}),h(t).forEach(function(o){M(e,o)||(r[a+o]=t[o])}),r}function aa(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var Oi={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return _(_({},e),{table:function(t){var r=e.table(t),a=r.schema.primaryKey;return _(_({},r),{mutate:function(o){var i=z.trans,s=i.table(t).hook,l=s.deleting,d=s.creating,v=s.updating;switch(o.type){case"add":if(d.fire===ue)break;return i._promise("readwrite",function(){return m(o)},!0);case"put":if(d.fire===ue&&v.fire===ue)break;return i._promise("readwrite",function(){return m(o)},!0);case"delete":if(l.fire===ue)break;return i._promise("readwrite",function(){return m(o)},!0);case"deleteRange":if(l.fire===ue)break;return i._promise("readwrite",function(){return(function c(w,p,y){return r.query({trans:w,values:!1,query:{index:a,range:p},limit:y}).then(function(b){var g=b.result;return m({type:"delete",keys:g,trans:w}).then(function(O){return 0<O.numFailures?Promise.reject(O.failures[0]):g.length<y?{failures:[],numFailures:0,lastResult:void 0}:c(w,_(_({},p),{lower:g[g.length-1],lowerOpen:!0}),y)})})})(o.trans,o.range,1e4)},!0)}return r.mutate(o);function m(c){var w,p,y,b=z.trans,g=c.keys||aa(a,c);if(!g)throw new Error("Keys missing");return(c=c.type==="add"||c.type==="put"?_(_({},c),{keys:g}):_({},c)).type!=="delete"&&(c.values=k([],c.values)),c.keys&&(c.keys=k([],c.keys)),w=r,y=g,((p=c).type==="add"?Promise.resolve([]):w.getMany({trans:p.trans,keys:y,cache:"immutable"})).then(function(O){var E=g.map(function(C,T){var x,j,K,B=O[T],$={onerror:null,onsuccess:null};return c.type==="delete"?l.fire.call($,C,B,b):c.type==="add"||B===void 0?(x=d.fire.call($,C,c.values[T],b),C==null&&x!=null&&(c.keys[T]=C=x,a.outbound||pe(c.values[T],a.keyPath,C))):(x=ra(B,c.values[T]),(j=v.fire.call($,x,C,B,b))&&(K=c.values[T],Object.keys(j).forEach(function(F){M(K,F)?K[F]=j[F]:pe(K,F,j[F])}))),$});return r.mutate(c).then(function(C){for(var T=C.failures,x=C.results,j=C.numFailures,C=C.lastResult,K=0;K<g.length;++K){var B=(x||g)[K],$=E[K];B==null?$.onerror&&$.onerror(T[K]):$.onsuccess&&$.onsuccess(c.type==="put"&&O[K]?c.values[K]:B)}return{failures:T,results:x,numFailures:j,lastResult:C}}).catch(function(C){return E.forEach(function(T){return T.onerror&&T.onerror(C)}),Promise.reject(C)})})}}})}})}};function Xa(e,t,r){try{if(!t||t.keys.length<e.length)return null;for(var a=[],o=0,i=0;o<t.keys.length&&i<e.length;++o)oe(t.keys[o],e[i])===0&&(a.push(r?Le(t.values[o]):t.values[o]),++i);return a.length===e.length?a:null}catch{return null}}var Si={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var r=e.table(t);return _(_({},r),{getMany:function(a){if(!a.cache)return r.getMany(a);var o=Xa(a.keys,a.trans._cache,a.cache==="clone");return o?L.resolve(o):r.getMany(a).then(function(i){return a.trans._cache={keys:a.keys,values:a.cache==="clone"?Le(i):i},i})},mutate:function(a){return a.type!=="add"&&(a.trans._cache=null),r.mutate(a)}})}}}};function Za(e,t){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!t.schema.primaryKey.outbound}function eo(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ei={stack:"dbcore",level:0,name:"Observability",create:function(e){var t=e.schema.name,r=new xe(e.MIN_KEY,e.MAX_KEY);return _(_({},e),{transaction:function(a,o,i){if(z.subscr&&o!=="readonly")throw new G.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(z.querier));return e.transaction(a,o,i)},table:function(a){var o=e.table(a),i=o.schema,s=i.primaryKey,c=i.indexes,l=s.extractKey,d=s.outbound,v=s.autoIncrement&&c.filter(function(p){return p.compound&&p.keyPath.includes(s.keyPath)}),m=_(_({},o),{mutate:function(p){function y(F){return F="idb://".concat(t,"/").concat(a,"/").concat(F),C[F]||(C[F]=new xe)}var b,g,O,E=p.trans,C=p.mutatedParts||(p.mutatedParts={}),T=y(""),x=y(":dels"),j=p.type,$=p.type==="deleteRange"?[p.range]:p.type==="delete"?[p.keys]:p.values.length<50?[aa(s,p).filter(function(F){return F}),p.values]:[],K=$[0],B=$[1],$=p.trans._cache;return A(K)?(T.addKeys(K),($=j==="delete"||K.length===B.length?Xa(K,$):null)||x.addKeys(K),($||B)&&(b=y,g=$,O=B,i.indexes.forEach(function(F){var V=b(F.name||"");function te(Z){return Z!=null?F.extractKey(Z):null}function ie(Z){return F.multiEntry&&A(Z)?Z.forEach(function(be){return V.addKey(be)}):V.addKey(Z)}(g||O).forEach(function(Z,De){var J=g&&te(g[De]),De=O&&te(O[De]);oe(J,De)!==0&&(J!=null&&ie(J),De!=null&&ie(De))})}))):K?(B={from:(B=K.lower)!==null&&B!==void 0?B:e.MIN_KEY,to:(B=K.upper)!==null&&B!==void 0?B:e.MAX_KEY},x.add(B),T.add(B)):(T.add(r),x.add(r),i.indexes.forEach(function(F){return y(F.name).add(r)})),o.mutate(p).then(function(F){return!K||p.type!=="add"&&p.type!=="put"||(T.addKeys(F.results),v&&v.forEach(function(V){for(var te=p.values.map(function(J){return V.extractKey(J)}),ie=V.keyPath.findIndex(function(J){return J===s.keyPath}),Z=0,be=F.results.length;Z<be;++Z)te[Z][ie]=F.results[Z];y(V.name).addKeys(te)})),E.mutatedParts=pr(E.mutatedParts||{},C),F})}}),c=function(y){var b=y.query,y=b.index,b=b.range;return[y,new xe((y=b.lower)!==null&&y!==void 0?y:e.MIN_KEY,(b=b.upper)!==null&&b!==void 0?b:e.MAX_KEY)]},w={get:function(p){return[s,new xe(p.key)]},getMany:function(p){return[s,new xe().addKeys(p.keys)]},count:c,query:c,openCursor:c};return h(w).forEach(function(p){m[p]=function(y){var b=z.subscr,g=!!b,O=Za(z,o)&&eo(p,y)?y.obsSet={}:b;if(g){var E=function(B){return B="idb://".concat(t,"/").concat(a,"/").concat(B),O[B]||(O[B]=new xe)},C=E(""),T=E(":dels"),b=w[p](y),g=b[0],b=b[1];if((p==="query"&&g.isPrimaryKey&&!y.values?T:E(g.name||"")).add(b),!g.isPrimaryKey){if(p!=="count"){var x=p==="query"&&d&&y.values&&o.query(_(_({},y),{values:!1}));return o[p].apply(this,arguments).then(function(B){if(p==="query"){if(d&&y.values)return x.then(function(te){return te=te.result,C.addKeys(te),B});var $=y.values?B.result.map(l):B.result;(y.values?C:T).addKeys($)}else if(p==="openCursor"){var F=B,V=y.values;return F&&Object.create(F,{key:{get:function(){return T.addKey(F.primaryKey),F.key}},primaryKey:{get:function(){var te=F.primaryKey;return T.addKey(te),te}},value:{get:function(){return V&&C.addKey(F.primaryKey),F.value}}})}return B})}T.add(r)}}return o[p].apply(this,arguments)}}),m}})}};function to(e,t,r){if(r.numFailures===0)return t;if(t.type==="deleteRange")return null;var a=t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1;return r.numFailures===a?null:(t=_({},t),A(t.keys)&&(t.keys=t.keys.filter(function(o,i){return!(i in r.failures)})),"values"in t&&A(t.values)&&(t.values=t.values.filter(function(o,i){return!(i in r.failures)})),t)}function oa(e,t){return r=e,((a=t).lower===void 0||(a.lowerOpen?0<oe(r,a.lower):0<=oe(r,a.lower)))&&(e=e,(t=t).upper===void 0||(t.upperOpen?oe(e,t.upper)<0:oe(e,t.upper)<=0));var r,a}function no(e,t,w,a,o,i){if(!w||w.length===0)return e;var s=t.query.index,l=s.multiEntry,d=t.query.range,v=a.schema.primaryKey.extractKey,m=s.extractKey,c=(s.lowLevelIndex||s).extractKey,w=w.reduce(function(p,y){var b=p,g=[];if(y.type==="add"||y.type==="put")for(var O=new xe,E=y.values.length-1;0<=E;--E){var C,T=y.values[E],x=v(T);O.hasKey(x)||(C=m(T),(l&&A(C)?C.some(function(F){return oa(F,d)}):oa(C,d))&&(O.addKey(x),g.push(T)))}switch(y.type){case"add":var j=new xe().addKeys(t.values?p.map(function(V){return v(V)}):p),b=p.concat(t.values?g.filter(function(V){return V=v(V),!j.hasKey(V)&&(j.addKey(V),!0)}):g.map(function(V){return v(V)}).filter(function(V){return!j.hasKey(V)&&(j.addKey(V),!0)}));break;case"put":var K=new xe().addKeys(y.values.map(function(V){return v(V)}));b=p.filter(function(V){return!K.hasKey(t.values?v(V):V)}).concat(t.values?g:g.map(function(V){return v(V)}));break;case"delete":var B=new xe().addKeys(y.keys);b=p.filter(function(V){return!B.hasKey(t.values?v(V):V)});break;case"deleteRange":var $=y.range;b=p.filter(function(V){return!oa(v(V),$)})}return b},e);return w===e?e:(w.sort(function(p,y){return oe(c(p),c(y))||oe(v(p),v(y))}),t.limit&&t.limit<1/0&&(w.length>t.limit?w.length=t.limit:e.length===t.limit&&w.length<t.limit&&(o.dirty=!0)),i?Object.freeze(w):w)}function ro(e,t){return oe(e.lower,t.lower)===0&&oe(e.upper,t.upper)===0&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function Ci(e,t){return(function(r,a,o,i){if(r===void 0)return a!==void 0?-1:0;if(a===void 0)return 1;if((a=oe(r,a))===0){if(o&&i)return 0;if(o)return 1;if(i)return-1}return a})(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=(function(r,a,o,i){if(r===void 0)return a!==void 0?1:0;if(a===void 0)return-1;if((a=oe(r,a))===0){if(o&&i)return 0;if(o)return-1;if(i)return 1}return a})(e.upper,t.upper,e.upperOpen,t.upperOpen)}function Ti(e,t,r,a){e.subscribers.add(r),a.addEventListener("abort",function(){var o,i;e.subscribers.delete(r),e.subscribers.size===0&&(o=e,i=t,setTimeout(function(){o.subscribers.size===0&&st(i,o)},3e3))})}var ki={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name;return _(_({},e),{transaction:function(r,a,o){var i,s,l=e.transaction(r,a,o);return a==="readwrite"&&(s=(i=new AbortController).signal,o=function(d){return function(){if(i.abort(),a==="readwrite"){for(var v=new Set,m=0,c=r;m<c.length;m++){var w=c[m],p=Vt["idb://".concat(t,"/").concat(w)];if(p){var y=e.table(w),b=p.optimisticOps.filter(function(V){return V.trans===l});if(l._explicit&&d&&l.mutatedParts)for(var g=0,O=Object.values(p.queries.query);g<O.length;g++)for(var E=0,C=(j=O[g]).slice();E<C.length;E++)Xr((K=C[E]).obsSet,l.mutatedParts)&&(st(j,K),K.subscribers.forEach(function(V){return v.add(V)}));else if(0<b.length){p.optimisticOps=p.optimisticOps.filter(function(V){return V.trans!==l});for(var T=0,x=Object.values(p.queries.query);T<x.length;T++)for(var j,K,B,$=0,F=(j=x[T]).slice();$<F.length;$++)(K=F[$]).res!=null&&l.mutatedParts&&(d&&!K.dirty?(B=Object.isFrozen(K.res),B=no(K.res,K.req,b,y,K,B),K.dirty?(st(j,K),K.subscribers.forEach(function(V){return v.add(V)})):B!==K.res&&(K.res=B,K.promise=L.resolve({result:B}))):(K.dirty&&st(j,K),K.subscribers.forEach(function(V){return v.add(V)})))}}}v.forEach(function(V){return V()})}}},l.addEventListener("abort",o(!1),{signal:s}),l.addEventListener("error",o(!1),{signal:s}),l.addEventListener("complete",o(!0),{signal:s})),l},table:function(r){var a=e.table(r),o=a.schema.primaryKey;return _(_({},a),{mutate:function(i){var s=z.trans;if(o.outbound||s.db._options.cache==="disabled"||s.explicit||s.idbtrans.mode!=="readwrite")return a.mutate(i);var l=Vt["idb://".concat(t,"/").concat(r)];return l?(s=a.mutate(i),i.type!=="add"&&i.type!=="put"||!(50<=i.values.length||aa(o,i).some(function(d){return d==null}))?(l.optimisticOps.push(i),i.mutatedParts&&hr(i.mutatedParts),s.then(function(d){0<d.numFailures&&(st(l.optimisticOps,i),(d=to(0,i,d))&&l.optimisticOps.push(d),i.mutatedParts&&hr(i.mutatedParts))}),s.catch(function(){st(l.optimisticOps,i),i.mutatedParts&&hr(i.mutatedParts)})):s.then(function(d){var v=to(0,_(_({},i),{values:i.values.map(function(m,c){var w;return d.failures[c]?m:(m=(w=o.keyPath)!==null&&w!==void 0&&w.includes(".")?Le(m):_({},m),pe(m,o.keyPath,d.results[c]),m)})}),d);l.optimisticOps.push(v),queueMicrotask(function(){return i.mutatedParts&&hr(i.mutatedParts)})}),s):a.mutate(i)},query:function(i){if(!Za(z,a)||!eo("query",i))return a.query(i);var s=((v=z.trans)===null||v===void 0?void 0:v.db._options.cache)==="immutable",c=z,l=c.requery,d=c.signal,v=(function(y,b,g,O){var E=Vt["idb://".concat(y,"/").concat(b)];if(!E)return[];if(!(b=E.queries[g]))return[null,!1,E,null];var C=b[(O.query?O.query.index.name:null)||""];if(!C)return[null,!1,E,null];switch(g){case"query":var T=C.find(function(x){return x.req.limit===O.limit&&x.req.values===O.values&&ro(x.req.query.range,O.query.range)});return T?[T,!0,E,C]:[C.find(function(x){return("limit"in x.req?x.req.limit:1/0)>=O.limit&&(!O.values||x.req.values)&&Ci(x.req.query.range,O.query.range)}),!1,E,C];case"count":return T=C.find(function(x){return ro(x.req.query.range,O.query.range)}),[T,!!T,E,C]}})(t,r,"query",i),m=v[0],c=v[1],w=v[2],p=v[3];return m&&c?m.obsSet=i.obsSet:(c=a.query(i).then(function(y){var b=y.result;if(m&&(m.res=b),s){for(var g=0,O=b.length;g<O;++g)Object.freeze(b[g]);Object.freeze(b)}else y.result=Le(b);return y}).catch(function(y){return p&&m&&st(p,m),Promise.reject(y)}),m={obsSet:i.obsSet,promise:c,subscribers:new Set,type:"query",req:i,dirty:!1},p?p.push(m):(p=[m],(w=w||(Vt["idb://".concat(t,"/").concat(r)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[i.query.index.name||""]=p)),Ti(m,p,l,d),m.promise.then(function(y){return{result:no(y.result,i,w?.optimisticOps,a,m,s)}})}})}})}};function yr(e,t){return new Proxy(e,{get:function(r,a,o){return a==="db"?t:Reflect.get(r,a,o)}})}var vt=(Se.prototype.version=function(e){if(isNaN(e)||e<.1)throw new G.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new G.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,r=t.filter(function(a){return a._cfg.version===e})[0];return r||(r=new this.Version(e),t.push(r),t.sort(yi),r.stores({}),this._state.autoSchema=!1,r)},Se.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||z.letThrough||this._vip)?e():new L(function(r,a){if(t._state.openComplete)return a(new G.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void a(new G.DatabaseClosed);t.open().catch(ue)}t._state.dbReadyPromise.then(r,a)}).then(e)},Se.prototype.use=function(e){var t=e.stack,r=e.create,a=e.level,o=e.name;return o&&this.unuse({stack:t,name:o}),e=this._middlewares[t]||(this._middlewares[t]=[]),e.push({stack:t,create:r,level:a??10,name:o}),e.sort(function(i,s){return i.level-s.level}),this},Se.prototype.unuse=function(e){var t=e.stack,r=e.name,a=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(o){return a?o.create!==a:!!r&&o.name!==r})),this},Se.prototype.open=function(){var e=this;return ze(Ye,function(){return wi(e)})},Se.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var e=this._state,t=ln.indexOf(this);if(0<=t&&ln.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new L(function(r){e.dbReadyResolve=r}),e.openCanceller=new L(function(r,a){e.cancelOpen=a}))},Se.prototype.close=function(r){var t=(r===void 0?{disableAutoOpen:!0}:r).disableAutoOpen,r=this._state;t?(r.isBeingOpened&&r.cancelOpen(new G.DatabaseClosed),this._close(),r.autoOpen=!1,r.dbOpenError=new G.DatabaseClosed):(this._close(),r.autoOpen=this._options.autoOpen||r.isBeingOpened,r.openComplete=!1,r.dbOpenError=null)},Se.prototype.delete=function(e){var t=this;e===void 0&&(e={disableAutoOpen:!0});var r=0<arguments.length&&typeof arguments[0]!="object",a=this._state;return new L(function(o,i){function s(){t.close(e);var l=t._deps.indexedDB.deleteDatabase(t.name);l.onsuccess=de(function(){var d,v,m;d=t._deps,v=t.name,m=d.indexedDB,d=d.IDBKeyRange,Yr(m)||v===tr||Hr(m,d).delete(v).catch(ue),o()}),l.onerror=at(i),l.onblocked=t._fireOnBlocked}if(r)throw new G.InvalidArgument("Invalid closeOptions argument to db.delete()");a.isBeingOpened?a.dbReadyPromise.then(s):s()})},Se.prototype.backendDB=function(){return this.idbdb},Se.prototype.isOpen=function(){return this.idbdb!==null},Se.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},Se.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Se.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Se.prototype,"tables",{get:function(){var e=this;return h(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),Se.prototype.transaction=function(){var e=(function(t,r,a){var o=arguments.length;if(o<2)throw new G.InvalidArgument("Too few arguments");for(var i=new Array(o-1);--o;)i[o-1]=arguments[o];return a=i.pop(),[t,zn(i),a]}).apply(this,arguments);return this._transaction.apply(this,e)},Se.prototype._transaction=function(e,t,r){var a=this,o=z.trans;o&&o.db===this&&e.indexOf("!")===-1||(o=null);var i,s,l=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");try{if(s=t.map(function(v){if(v=v instanceof a.Table?v.name:v,typeof v!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return v}),e=="r"||e===Mr)i=Mr;else{if(e!="rw"&&e!=Nr)throw new G.InvalidArgument("Invalid transaction mode: "+e);i=Nr}if(o){if(o.mode===Mr&&i===Nr){if(!l)throw new G.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&s.forEach(function(v){if(o&&o.storeNames.indexOf(v)===-1){if(!l)throw new G.SubTransaction("Table "+v+" not included in parent transaction.");o=null}}),l&&o&&!o.active&&(o=null)}}catch(v){return o?o._promise(null,function(m,c){c(v)}):Oe(v)}var d=(function v(m,c,w,p,y){return L.resolve().then(function(){var b=z.transless||z,g=m._createTransaction(c,w,m._dbSchema,p);if(g.explicit=!0,b={trans:g,transless:b},p)g.idbtrans=p.idbtrans;else try{g.create(),g.idbtrans._explicit=!0,m._state.PR1398_maxLoop=3}catch(C){return C.name===ut.InvalidState&&m.isOpen()&&0<--m._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),m.close({disableAutoOpen:!1}),m.open().then(function(){return v(m,c,w,null,y)})):Oe(C)}var O,E=On(y);return E&&R(),b=L.follow(function(){var C;(O=y.call(g,g))&&(E?(C=Q.bind(null,null),O.then(C,C)):typeof O.next=="function"&&typeof O.throw=="function"&&(O=na(O)))},b),(O&&typeof O.then=="function"?L.resolve(O).then(function(C){return g.active?C:Oe(new G.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):b.then(function(){return O})).then(function(C){return p&&g._resolve(),g._completion.then(function(){return C})}).catch(function(C){return g._reject(C),Oe(C)})})}).bind(null,this,i,s,o,r);return o?o._promise(i,d,"lock"):z.trans?ze(z.transless,function(){return a._whenReady(d)}):this._whenReady(d)},Se.prototype.table=function(e){if(!M(this._allTables,e))throw new G.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},Se);function Se(e,t){var r=this;this._middlewares={},this.verno=0;var a=Se.dependencies;this._options=t=_({addons:Se.addons,autoOpen:!0,indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange,cache:"cloned"},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange},a=t.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o,i,s,l,d,v={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ue,dbReadyPromise:null,cancelOpen:ue,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:t.autoOpen};v.dbReadyPromise=new L(function(c){v.dbReadyResolve=c}),v.openCanceller=new L(function(c,w){v.cancelOpen=w}),this._state=v,this.name=e,this.on=An(this,"populate","blocked","versionchange","close",{ready:[Et,ue]}),this.once=function(c,w){var p=function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];r.on(c).unsubscribe(p),w.apply(r,y)};return r.on(c,p)},this.on.ready.subscribe=fe(this.on.ready.subscribe,function(c){return function(w,p){Se.vip(function(){var y,b=r._state;b.openComplete?(b.dbOpenError||L.resolve().then(w),p&&c(w)):b.onReadyBeingFired?(b.onReadyBeingFired.push(w),p&&c(w)):(c(w),y=r,p||c(function g(){y.on.ready.unsubscribe(w),y.on.ready.unsubscribe(g)}))})}}),this.Collection=(o=this,In(li.prototype,function(O,g){this.db=o;var p=Ka,y=null;if(g)try{p=g()}catch(E){y=E}var b=O._ctx,g=b.table,O=g.hook.reading.fire;this._ctx={table:g,index:b.index,isPrimKey:!b.index||g.schema.primKey.keyPath&&b.index===g.schema.primKey.name,range:p,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:y,or:b.or,valueMapper:O!==Nt?O:null}})),this.Table=(i=this,In(Ma.prototype,function(c,w,p){this.db=i,this._tx=p,this.name=c,this.schema=w,this.hook=i._allTables[c]?i._allTables[c].hook:An(null,{creating:[Kr,ue],reading:[Yn,Nt],updating:[Jt,ue],deleting:[Rr,ue]})})),this.Transaction=(s=this,In(di.prototype,function(c,w,p,y,b){var g=this;c!=="readonly"&&w.forEach(function(O){O=(O=p[O])===null||O===void 0?void 0:O.yProps,O&&(w=w.concat(O.map(function(E){return E.updatesTable})))}),this.db=s,this.mode=c,this.storeNames=w,this.schema=p,this.chromeTransactionDurability=y,this.idbtrans=null,this.on=An(this,"complete","error","abort"),this.parent=b||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new L(function(O,E){g._resolve=O,g._reject=E}),this._completion.then(function(){g.active=!1,g.on.complete.fire()},function(O){var E=g.active;return g.active=!1,g.on.error.fire(O),g.parent?g.parent._reject(O):E&&g.idbtrans&&g.idbtrans.abort(),Oe(O)})})),this.Version=(l=this,In(bi.prototype,function(c){this.db=l,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(d=this,In(Va.prototype,function(c,w,p){if(this.db=d,this._ctx={table:c,index:w===":id"?null:w,or:p},this._cmp=this._ascending=oe,this._descending=function(y,b){return oe(b,y)},this._max=function(y,b){return 0<oe(y,b)?y:b},this._min=function(y,b){return oe(y,b)<0?y:b},this._IDBKeyRange=d._deps.IDBKeyRange,!this._IDBKeyRange)throw new G.MissingAPI})),this.on("versionchange",function(c){0<c.newVersion?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close({disableAutoOpen:!1})}),this.on("blocked",function(c){!c.newVersion||c.newVersion<c.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(c.oldVersion/10))}),this._maxKey=Rn(t.IDBKeyRange),this._createTransaction=function(c,w,p,y){return new r.Transaction(c,w,p,r._options.chromeTransactionDurability,y)},this._fireOnBlocked=function(c){r.on("blocked").fire(c),ln.filter(function(w){return w.name===r.name&&w!==r&&!w._state.vcFired}).map(function(w){return w.on("versionchange").fire(c)})},this.use(Si),this.use(ki),this.use(Ei),this.use(_i),this.use(Oi);var m=new Proxy(this,{get:function(c,w,p){if(w==="_vip")return!0;if(w==="table")return function(b){return yr(r.table(b),m)};var y=Reflect.get(c,w,p);return y instanceof Ma?yr(y,m):w==="tables"?y.map(function(b){return yr(b,m)}):w==="_createTransaction"?function(){return yr(y.apply(this,arguments),m)}:y}});this.vip=m,a.forEach(function(c){return c(r)})}var mr,We=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Pi=(ia.prototype.subscribe=function(e,t,r){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:t,complete:r})},ia.prototype[We]=function(){return this},ia);function ia(e){this._subscribe=e}try{mr={indexedDB:P.indexedDB||P.mozIndexedDB||P.webkitIndexedDB||P.msIndexedDB,IDBKeyRange:P.IDBKeyRange||P.webkitIDBKeyRange}}catch{mr={indexedDB:null,IDBKeyRange:null}}function ao(e){var t,r=!1,a=new Pi(function(o){var i=On(e),s,l=!1,d={},v={},m={get closed(){return l},unsubscribe:function(){l||(l=!0,s&&s.abort(),c&&Pt.storagemutated.unsubscribe(p))}};o.start&&o.start(m);var c=!1,w=function(){return Pn(y)},p=function(b){pr(d,b),Xr(v,d)&&w()},y=function(){var b,g,O;!l&&mr.indexedDB&&(d={},b={},s&&s.abort(),s=new AbortController,O=(function(E){var C=Tt();try{i&&R();var T=S(e,E);return T=i?T.finally(Q):T}finally{C&&Qe()}})(g={subscr:b,signal:s.signal,requery:w,querier:e,trans:null}),Promise.resolve(O).then(function(E){r=!0,t=E,l||g.signal.aborted||(d={},(function(C){for(var T in C)if(M(C,T))return;return 1})(v=b)||c||(Pt(Kn,p),c=!0),Pn(function(){return!l&&o.next&&o.next(E)}))},function(E){r=!1,["DatabaseClosedError","AbortError"].includes(E?.name)||l||Pn(function(){l||o.error&&o.error(E)})}))};return setTimeout(w,0),m});return a.hasValue=function(){return r},a.getValue=function(){return t},a}var zt=vt;function sa(e){var t=At;try{At=!0,Pt.storagemutated.fire(e),ta(e,!0)}finally{At=t}}N(zt,_(_({},Mt),{delete:function(e){return new zt(e,{addons:[]}).delete()},exists:function(e){return new zt(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return t=zt.dependencies,r=t.indexedDB,t=t.IDBKeyRange,(Yr(r)?Promise.resolve(r.databases()).then(function(a){return a.map(function(o){return o.name}).filter(function(o){return o!==tr})}):Hr(r,t).toCollection().primaryKeys()).then(e)}catch{return Oe(new G.MissingAPI)}var t,r},defineClass:function(){return function(e){D(this,e)}},ignoreTransaction:function(e){return z.trans?ze(z.transless,e):e()},vip:Qr,async:function(e){return function(){try{var t=na(e.apply(this,arguments));return t&&typeof t.then=="function"?t:L.resolve(t)}catch(r){return Oe(r)}}},spawn:function(e,t,r){try{var a=na(e.apply(r,t||[]));return a&&typeof a.then=="function"?a:L.resolve(a)}catch(o){return Oe(o)}},currentTransaction:{get:function(){return z.trans||null}},waitFor:function(e,t){return t=L.resolve(typeof e=="function"?zt.ignoreTransaction(e):e).timeout(t||6e4),z.trans?z.trans.waitFor(t):t},Promise:L,debug:{get:function(){return Ne},set:function(e){Jn(e)}},derive:ee,extend:D,props:N,override:fe,Events:An,on:Pt,liveQuery:ao,extendObservabilitySet:pr,getByKeyPath:ne,setByKeyPath:pe,delByKeyPath:function(e,t){typeof t=="string"?pe(e,t,void 0):"length"in t&&[].map.call(t,function(r){pe(e,r,void 0)})},shallowClone:Ie,deepClone:Le,getObjectDiff:ra,cmp:oe,asap:me,minKey:-1/0,addons:[],connections:ln,errnames:ut,dependencies:mr,cache:Vt,semVer:"4.2.0",version:"4.2.0".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,r){return e+t/Math.pow(10,2*r)})})),zt.maxKey=Rn(zt.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Pt(Kn,function(e){At||(e=new CustomEvent($r,{detail:e}),At=!0,dispatchEvent(e),At=!1)}),addEventListener($r,function(e){e=e.detail,At||sa(e)}));var pn,At=!1,oo=function(){};return typeof BroadcastChannel<"u"&&((oo=function(){(pn=new BroadcastChannel($r)).onmessage=function(e){return e.data&&sa(e.data)}})(),typeof pn.unref=="function"&&pn.unref(),Pt(Kn,function(e){At||pn.postMessage(e)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(e){if(!vt.disableBfCache&&e.persisted){Ne&&console.debug("Dexie: handling persisted pagehide"),pn?.close();for(var t=0,r=ln;t<r.length;t++)r[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!vt.disableBfCache&&e.persisted&&(Ne&&console.debug("Dexie: handling persisted pageshow"),oo(),sa({all:new xe(-1/0,[[]])}))})),L.rejectionMapper=function(e,t){return!e||e instanceof Ot||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Hn[e.name]?e:(t=new Hn[e.name](t||e.message,e),"stack"in e&&U(t,"stack",{get:function(){return this.inner.stack}}),t)},Jn(Ne),_(vt,Object.freeze({__proto__:null,Dexie:vt,liveQuery:ao,Entity:Ra,cmp:oe,PropModification:xn,replacePrefix:function(e,t){return new xn({replacePrefix:[e,t]})},add:function(e){return new xn({add:e})},remove:function(e){return new xn({remove:e})},default:vt,RangeSet:xe,mergeRanges:Mn,rangesOverlap:Ha}),{default:vt}),vt})})(Sr)),Sr.exports}var gc=mc();const Sa=zi(gc),Bo=Symbol.for("Dexie"),kr=globalThis[Bo]||(globalThis[Bo]=Sa);if(Sa.semVer!==kr.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Sa.semVer} and ${kr.semVer}`);const{liveQuery:Kc,mergeRanges:Rc,rangesOverlap:Bc,RangeSet:jc,cmp:Mc,Entity:Nc,PropModification:Fc,replacePrefix:Lc,add:$c,remove:qc,DexieYProvider:Vc}=kr;class bc extends kr{images;constructor(){super("ImageDatabase"),this.version(1).stores({images:"++id, name, type, filename, uploadedAt"}),this.images=this.table("images")}}const wc=le([]),zc=async()=>{try{wc.value=await si.images.toArray()}catch(n){console.error("加载图片失败:",n)}},si=new bc,ui=le([]);async function _c(){try{const n=await si.images.toArray();ui.value=n.map(u=>({id:u.id,name:u.name,type:u.type,url:u.data}))}catch(n){console.error("从数据库加载图片失败:",n)}}_c();function Oc(){return ui.value.map(n=>n.url)}Oc();export{ql as A,Wl as B,Cc as C,ti as D,Ic as E,Ml as F,ei as G,Gt as H,ui as I,Kl as J,Ge as K,Dt as L,Ac as M,zc as N,Ql as O,si as P,_c as Q,wc as R,wt as S,Al as T,Po as U,Dl as V,Rl as W,kc as X,Dc as a,xc as b,Ps as c,Sl as d,uu as e,Eu as f,Tc as g,Cu as h,Ts as i,xt as j,au as k,ma as l,Qo as m,bo as n,lu as o,Yo as p,bl as q,hn as r,_u as s,yo as t,Il as u,xl as v,ri as w,Pc as x,Vl as y,$l as z};
